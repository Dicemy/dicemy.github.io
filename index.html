<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>TobinMEng 的博客</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Dicemy"><meta name="msapplication-TileImage" content="/img/biaoti.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Dicemy"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="月光照着月光,月光普照"><meta property="og:type" content="blog"><meta property="og:title" content="TobinMEng 的博客"><meta property="og:url" content="https://dicemy.com/"><meta property="og:site_name" content="TobinMEng 的博客"><meta property="og:description" content="月光照着月光,月光普照"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://dicemy.com/img/og_image.png"><meta property="article:author" content="TobinMEng"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://dicemy.com"},"headline":"TobinMEng 的博客","image":["https://dicemy.com/img/og_image.png"],"author":{"@type":"Person","name":"TobinMEng"},"publisher":{"@type":"Organization","name":"TobinMEng 的博客","logo":{"@type":"ImageObject","url":"https://dicemy.com/img/biaoti.png"}},"description":"月光照着月光,月光普照"}</script><link rel="icon" href="/img/biaoti.png"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.15.2/css/all.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.10.0/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.8.1/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdnjs.loli.net/ajax/libs/pace/1.2.4/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-6426911790858772" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.0.0"><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/biaoti.png" alt="TobinMEng 的博客" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">首页</a><a class="navbar-item" href="/archives">文章归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">个人简介</a><a class="navbar-item" href="/message">留言</a><a class="navbar-item" href="/music">音乐</a><a class="navbar-item" href="/media">媒体</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Github" href="https://github.com/Dicemy"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-01-08T10:08:35.000Z" title="2022/1/8 下午6:08:35">2022-01-08</time>发表</span><span class="level-item"><time dateTime="2022-01-28T12:57:57.039Z" title="2022/1/28 下午8:57:57">2022-01-28</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span><span class="level-item">1 小时读完 (大约7673个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/23955">fabric开发入门</a></h1><div class="content"><p>注意：不要在有生产环境的服务器上进行该学习的部署，血的教训（关闭服务的时候服务器上的docker都被杀掉了，青龙平台直接没了。。。）</p>
<h1 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h1><h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p>在gopath中创建</p>
<blockquote>
<p>mkdir src</p>
<p>mkdir bin</p>
<p>mkdir pkg</p>
</blockquote>
<p>在src中创建<code>mkdir github.com</code></p>
<p>在github.com中创建<code>mkdir hyperledger</code></p>
<h2 id="docker安装"><a href="#docker安装" class="headerlink" title="docker安装"></a>docker安装</h2><p>一行命令，完成安装：（安装之后记得要把docker服务启动起来）</p>
<blockquote>
<p>curl -sSL <a target="_blank" rel="noopener" href="https://get.daocloud.io/docker">https://get.daocloud.io/docker</a> | sh</p>
<p>service docker start </p>
</blockquote>
<p>而且源在国内</p>
<h2 id="docker-compose安装"><a href="#docker-compose安装" class="headerlink" title="docker-compose安装"></a>docker-compose安装</h2><p>通过curl进行安装：</p>
<blockquote>
<p><code>curl -L https://github.com/docker/compose/releases/download/1.7.0/docker-compose-``uname -s ``-``uname -m`` &gt; /usr/local/bin/docker-compose</code></p>
<p><code>chmod +x /usr/local/bin/docker-compose</code></p>
<p><code>docker-compose -v</code></p>
</blockquote>
<h2 id="go安装与配置"><a href="#go安装与配置" class="headerlink" title="go安装与配置"></a>go安装与配置</h2><p>参考：<a href="http://dicemy.com/29920#Go%E8%AF%AD%E8%A8%80%E5%AE%89%E8%A3%85">http://dicemy.com/29920#Go%E8%AF%AD%E8%A8%80%E5%AE%89%E8%A3%85</a></p>
<p>一定要注意环境变量的配置</p>
<h2 id="jdk安装"><a href="#jdk安装" class="headerlink" title="jdk安装"></a>jdk安装</h2><blockquote>
<p>yum list java*</p>
<p>yum install -y java-1.8.0-openjdk-devel.x86_64    </p>
<p>java -version</p>
</blockquote>
<h2 id="下载fabric的docker镜像"><a href="#下载fabric的docker镜像" class="headerlink" title="下载fabric的docker镜像"></a>下载fabric的docker镜像</h2><p>除了baseos下载0.3.1，其余都下1.0.0，然后标记为latest</p>
<blockquote>
<p>tools：docker pull hyperledger/fabric-tools:x86_64-1.0.0</p>
<p>ccenv：docker pull hyperledger/fabric-ccenv:x86_64-1.0.0</p>
<p>ca：docker pull hyperledger/fabric-ca:x86_64-1.0.0</p>
<p>orderer：docker pull hyperledger/fabric-orderer:x86_64-1.0.0</p>
<p>peer：docker pull hyperledger/fabric-peer:x86_64-1.0.0</p>
<p>baseos：docker pull hyperledger/fabric-baseos:x86_64-0.3.1</p>
</blockquote>
<p>纯命令版：</p>
<blockquote>
<p>docker pull hyperledger/fabric-tools:x86_64-1.0.0</p>
<p>docker pull hyperledger/fabric-ccenv:x86_64-1.0.0</p>
<p>docker pull hyperledger/fabric-ca:x86_64-1.0.0</p>
<p>docker pull hyperledger/fabric-orderer:x86_64-1.0.0</p>
<p>docker pull hyperledger/fabric-peer:x86_64-1.0.0</p>
<p>docker pull hyperledger/fabric-baseos:x86_64-0.3.1</p>
</blockquote>
<p>注意：记得在所有的安装之后进行tag 编辑成latest状态否则会出现问题</p>
<p><code>docker tag xxxx xxxx:latest</code></p>
<blockquote>
<p>docker tag hyperledger/fabric-tools:x86_64-1.0.0 hyperledger/fabric-tools:latest</p>
<p>docker tag hyperledger/fabric-ccenv:x86_64-1.0.0 hyperledger/fabric-ccenv:latest</p>
<p>docker tag hyperledger/fabric-ca:x86_64-1.0.0 hyperledger/fabric-ca:latest</p>
<p>docker tag hyperledger/fabric-orderer:x86_64-1.0.0 hyperledger/fabric-orderer:latest</p>
<p>docker tag hyperledger/fabric-peer:x86_64-1.0.0 hyperledger/fabric-peer:latest</p>
<p>docker tag hyperledger/fabric-baseos:x86_64-0.3.1 hyperledger/fabric-baseos:latest</p>
</blockquote>
<h2 id="下载fabric源码库"><a href="#下载fabric源码库" class="headerlink" title="下载fabric源码库"></a>下载fabric源码库</h2><p>在hyperledger目录下进行<code>git clone https://github.com/hyperledger/fabric.git</code></p>
<p><code>git checkout release-1.0</code></p>
<p><code>cd /home/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/configtxgen</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108181212.png" alt="image-20220108181210078"></p>
<h3 id="对工具进行编译。"><a href="#对工具进行编译。" class="headerlink" title="对工具进行编译。"></a>对工具进行编译。</h3><p><code>go install --tags=nopkcs11</code></p>
<blockquote>
<p>注意！！！</p>
<p>奇怪的错误请输入：go env -w GO111MODULE=auto</p>
<p>一定要把这个项目文件的src放在go环境设置下的gopath的文件夹中，输入go env可以查看go安装环境中的gopath文件夹。否则会出现找不到包的报错。</p>
</blockquote>
<h3 id="对另一个工具进行编译。"><a href="#对另一个工具进行编译。" class="headerlink" title="对另一个工具进行编译。"></a>对另一个工具进行编译。</h3><p><code>cd /home/gopath/src/github.com/hyperledger/fabric/common/tools/cryptogen</code></p>
<p><code>go install --tags=nopkcs11</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108183050.png" alt="image-20220108183049804"></p>
<h3 id="编译好的工具如下"><a href="#编译好的工具如下" class="headerlink" title="编译好的工具如下:"></a>编译好的工具如下:</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108183258.png" alt="image-20220108183258043"></p>
<h2 id="下载fabric-samples"><a href="#下载fabric-samples" class="headerlink" title="下载fabric-samples"></a>下载fabric-samples</h2><p><code>cd /home/gopath/src/github.com/hyperledger</code></p>
<p><code>git clone https://github.com/hyperledger/fabric-samples.git</code></p>
<p><code>git checkout release-1.0</code></p>
<h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h1><h2 id="1-查看目录"><a href="#1-查看目录" class="headerlink" title="1.查看目录"></a>1.查看目录</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108185207.png" alt="image-20220108185207083"></p>
<p>.env：存储一些环境变量</p>
<p>base：储存docker-compose的一些公共服务</p>
<p>byfn.sh：执行脚本</p>
<p>configtx.yaml和crypto-config.yaml：根据之前生成的2个工具，生成相应的配置文件，用来启动网络，放到当前目录的channel-artifacts和crypto-config里面</p>
<p>docker-compose：用于启动网络</p>
<p>scripts：存放测试脚本，做的事：创建通道，加入通道，安装链码，实例化链码，链码交互</p>
<h2 id="2-生成配置"><a href="#2-生成配置" class="headerlink" title="2.生成配置"></a>2.生成配置</h2><p><code>./byfn.sh -m generate -i 1.0.0</code></p>
<blockquote>
<p>注意！！！！</p>
<p>一定要记得吧gopath中的bin目录添加到环境变量中，否则可能无法调用刚才编译好的configtxgen和cryptogen工具</p>
<p>可以通过 export PATH=$PATH:/home/gopath/bin 来临时添加或者使用vim ~/.bash_profile修改PATH 一行，之后使用source ~/.bash_profile生效。</p>
</blockquote>
<h2 id="3-启动网络，自动运行测试脚本"><a href="#3-启动网络，自动运行测试脚本" class="headerlink" title="3.启动网络，自动运行测试脚本"></a>3.启动网络，自动运行测试脚本</h2><p><code>./byfn.sh -m up -i 1.0.0</code></p>
<h2 id="4-关闭网络，自动清楚配置和docker进程"><a href="#4-关闭网络，自动清楚配置和docker进程" class="headerlink" title="4.关闭网络，自动清楚配置和docker进程"></a>4.关闭网络，自动清楚配置和docker进程</h2><p><code>./byfn.sh -m down -i 1.0.0</code></p>
<h1 id="Hello-World-分析"><a href="#Hello-World-分析" class="headerlink" title="Hello World 分析"></a>Hello World 分析</h1><h2 id="1-查看日志，order和peer分离"><a href="#1-查看日志，order和peer分离" class="headerlink" title="1.查看日志，order和peer分离"></a>1.查看日志，order和peer分离</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108200634.png" alt="image-20220108200633311"></p>
<p>peer是按照组织或主体分离的，每一个组织生成ca（存储证书和私钥），msp（存储管理员证书和中间证书），peers（存储每一个peer相关的证书），users（存储每一个用户的证书）</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108200948.png" alt="image-20220108200946765"></p>
<h2 id="2-查看如下配置"><a href="#2-查看如下配置" class="headerlink" title="2.查看如下配置"></a>2.查看如下配置</h2><p>genesis.block：整个网络的创世区块</p>
<p>channel.tx：创建的通道的配置</p>
<p>Org1MSPanchors.tx和Org2MSPanchors.tx：两个主体的锚节点配置</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108201328.png" alt="image-20220108201327506"></p>
<h2 id="3-启动网络，接着分析日志"><a href="#3-启动网络，接着分析日志" class="headerlink" title="3.启动网络，接着分析日志"></a>3.启动网络，接着分析日志</h2><p>fabric网络启动完毕</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108203247.png" alt="image-20220108203245854"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108203353.png" alt="image-20220108203352910"></p>
<p>指定通道名称，和一些变量，通道创建完成</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108203443.png" alt="image-20220108203442675"></p>
<p>4个peer加入通道</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108203605.png" alt="image-20220108203604430"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108203646.png" alt="image-20220108203646097"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108203654.png" alt="image-20220108203653472"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108203700.png" alt="image-20220108203659999"></p>
<p>组织中的锚节点在通道中update成功</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108203742.png" alt="image-20220108203742026"></p>
<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108203742.png"/>

<p>链码安装到了peer节点</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108203904.png" alt="image-20220108203903845"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108203931.png" alt="image-20220108203930729"></p>
<p>链码实例化</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108203952.png" alt="image-20220108203951359"></p>
<p>在peer0上进行查询操作，成功</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108204015.png" alt="image-20220108204015033"></p>
<p>圈圈的是查询结果，查询成功，查询结果为100</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108204137.png" alt="image-20220108204136547"></p>
<p>进行修改操作，成功</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108204241.png" alt="image-20220108204241010"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108204349.png" alt="image-20220108204348218"></p>
<p>再次查询，结果为90</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108204508.png" alt="image-20220108204508197"></p>
<p>查看docker进程</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220109165719.png" alt="image-20220108204613817"></p>
<p>3个链码会生成3个image</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108204746.png" alt="image-20220108204745898"></p>
<p>查看脚本</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108205435.png" alt="image-20220108205434573"></p>
<p>可以按脚本中的位置找到链码</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108205512.png" alt="image-20220108205511945"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108205325.png" alt="image-20220108205320115"></p>
<p>实现了Init和Invoke接口，就代表是一个fabric智能合约</p>
<p>Init：首先获取参数，不为4个则报错，最终将A和B存到数据库中</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108210007.png" alt="image-20220108210006159"></p>
<p>Invoke：设置了3个方法，（invoke，delete，query）</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108210201.png" alt="image-20220108210200287"></p>
<p>invoke：接受3个参数，（谁给谁转账，赚多少）</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108210300.png" alt="image-20220108210259542"></p>
<p>A给B转账。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108210352.png" alt="image-20220108210352036"></p>
<p>持久化数据</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108210442.png" alt="image-20220108210441191"></p>
<p>接受1个值，从数据库中删除</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108211352.png" alt="image-20220108211350759"></p>
<p>查询操作，结果以json形式返回</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108211533.png" alt="image-20220108211532979"></p>
<p>main里只start或者进行一些验证，不写其他代码</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108211617.png" alt="image-20220108211616503"></p>
<p>srcipts中：初始化操作，A有100元，B有200元</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108211813.png" alt="image-20220108211812427"></p>
<p>查询A有多少钱，所以打印了100</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108211920.png" alt="image-20220108211919875"></p>
<p>A给B转账10元</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220108212005.png" alt="image-20220108212004943"></p>
<h1 id="fabric系统架构"><a href="#fabric系统架构" class="headerlink" title="fabric系统架构"></a>fabric系统架构</h1><h2 id="架构图"><a href="#架构图" class="headerlink" title="架构图"></a>架构图</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220109153233.png" alt="image-20220109153232452"></p>
<ul>
<li><p><strong>应用层</strong></p>
</li>
<li><p>API：提供了GRPC，（谷歌）RPC框架</p>
</li>
<li><p>SDK：在API基础上封装的SDK，go，java，python，nodejs</p>
</li>
<li><p>事件：分布式系统中，达成共识需要一定的时间，fabric使用异步通信模式开发，触发回调函数执行。</p>
</li>
<li><p>身份：依托于底层的成员服务，是联盟链的认证功能，例如CA</p>
</li>
<li><p>账本：区块链的查询数据，是账本中查出来的，区块高度+交易ID，不重复</p>
</li>
<li><p>交易：对区块链数据进行修改，先提交交易到背书节点，签名认证之后再执行。</p>
</li>
<li><p>智能合约：做合约的安装，实例化和升级</p>
</li>
<li><p><strong>区块链底层</strong></p>
</li>
<li><p>成员服务：提供证书，用于加密和签名</p>
</li>
<li><p>共识服务：CAP（不能全满足，只能满足2个，一致性，可用性和分区容忍性），实际上区块链是弱化了可用性和分区容忍性，所以需要共识算法保证一致性。fabric的共识大概分为三个阶段：</p>
<ul>
<li>首先客户端向背书节点发送一个背书提案，背书节点进行交易模拟，将背书节点和签名返回客户端。</li>
<li>然后将背书后的交易，交给排序节点进行排序。有排序节点生成区块，向全网广播。网络节点接受到广播后，先验证区块交易的正确性。</li>
<li>验证通过后，存入本地账本。</li>
<li>PS：排序节点与组织的锚节点使用的是GRPC通信，组织内使用的是gossip协议通信</li>
</ul>
</li>
<li><p>链码服务：提供安全的，可隔离的交易环境。所以fabric使用docker，链码直接与docker通信。目前阶段对k8s支持的不好，会出问题。</p>
</li>
<li><p>安全及密码服务：fabric定义了一个BCCSP接口，定义签名，加密解密功能，是默认实现了一套国际通用的密码服务，如sha256等</p>
</li>
</ul>
<h2 id="网络拓扑图"><a href="#网络拓扑图" class="headerlink" title="网络拓扑图"></a>网络拓扑图</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220109160034.png" alt="image-20220109160033781"></p>
<ul>
<li><strong>概念：</strong></li>
<li>客户端节点：应用程序和底层的交互媒介，与上层和peer和orderer连接发挥作用，连接peer做交易模拟</li>
<li>peer节点：包含了<strong>锚节点（主节点）</strong>，在一个组织内可以有多个peer，一个组织中锚节点只有一个，锚节点的作用（与orderer进行通信），锚节点需要HA支持，若锚节点挂了，组织内会选举新的节点与orderer节点进行通信，<strong>背书节点（Endorse）</strong>理解为担保，与智能合约绑定的，每一个智能合约安装到区块链中，会有一个专属的背书策略，<strong>记账节点（committer）</strong>所有的peer节点都是记账节点。用于验证从orderer接受的区块，验证交易的有效性，验证通过后，同步到本地账本。</li>
<li>orderer节点：排序节点，接受全网客户端节点的交易信息，按照一定规则进行排序，将排序好的交易，按照固定的时间间隔打包成区块。与其他组织的主节点进行通信，排序可以用solo（整个网络中只有一个排序节点，使用于开发和测试）和kafka（生产环境下使用，分布式消息队列）模式</li>
<li>CA节点：可选的，作用：颁发证书，只用被CA认证的节点才能进行交易，fabric不存在51%攻击问题。</li>
<li><strong>动作和行为：</strong></li>
<li>注册登记：与客户端发起，向CA机构表明自己的身份，获取证书，上图中是第三方的CA，也可以使用官方提供的CA。</li>
<li>交易提案：向组织的<strong>背书节点</strong>提交请求，对应peer节点，组织可以理解为现实中的商业主体，组织是独立的，有两个个数据来源。</li>
<li>提交交易：客户端节点向排序节点发请求，orderer内部进行排序打包成区块，广播给其他组织的锚节点，上图是基于kafka实现的，每个组织会选择一个orderer节点进行通信。</li>
</ul>
<h2 id="交易流程"><a href="#交易流程" class="headerlink" title="交易流程"></a>交易流程</h2><ul>
<li>客户端提交交易，最终到记账节点同步数据。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220109163002.png" alt="image-20220109163001787"></p>
<ul>
<li>智能合约按照要指定背书节点，正常情况下，背书节点返回相同的结果，但签名是不一样的。</li>
<li>背书是模拟的过程，不会持久化</li>
<li>1,2,3是交易模拟，4,5,6是交易排序，7,8,9是交易同步和记账。交易模拟对应智能合约，交易排序对应共识机制，同步和记账对应账本存储</li>
</ul>
<h1 id="fabric共识排序"><a href="#fabric共识排序" class="headerlink" title="fabric共识排序"></a>fabric共识排序</h1><h2 id="共识机制"><a href="#共识机制" class="headerlink" title="共识机制"></a>共识机制</h2><ul>
<li>达成公式需要3个阶段，交易背书，交易排序，交易验证。</li>
<li>交易背书：模拟的</li>
<li>交易排序：确定交易顺序，最终将排序好的交易打包区块分发。</li>
<li>交易验证：区块储存前要进行一下交易验证（不是所有的orderer的东西都能存进去）</li>
</ul>
<h2 id="Orderer节点的作用"><a href="#Orderer节点的作用" class="headerlink" title="Orderer节点的作用"></a>Orderer节点的作用</h2><ul>
<li><p>交易排序</p>
<ul>
<li>目的：保证系统的最终一致性（有限状态机）</li>
<li>solo：单节点排序</li>
<li>kafka：外置的分布式消息队列</li>
</ul>
</li>
<li><p>区块分发：</p>
<ul>
<li>orderer中的区块并不是最终持久化的区块，</li>
<li>是一个中间状态的区块</li>
<li>包含了所有交易，不管是有有效还是无效，都会打包传给组织的锚节点。</li>
</ul>
</li>
<li><p>多通道的数据隔离</p>
<ul>
<li>客户端可以使用某个通道，发送交易</li>
<li><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220109164753.png" alt="image-20220109164752553"></li>
</ul>
</li>
</ul>
<h2 id="源码目录"><a href="#源码目录" class="headerlink" title="源码目录"></a>源码目录</h2><ul>
<li><p>从goland中阅读</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220110134631.png" alt="image-20220110134628351"></p>
</li>
<li><p>源码目录</p>
<ul>
<li>bccsp：与密码学相关的，加密，数字签名，证书，将密码学中的函数抽象成了接口，方便调用和扩展</li>
<li>bddtests：行为驱动开发，从需求直接到开发</li>
<li>common：公共库，错误处理，日志处理，账本存贮，相关工具</li>
<li>core：是fabric核心库，子目录是各个模块的目录<ul>
<li>comm：网络通信相关</li>
</ul>
</li>
<li>devenv：官方提供的开发环境，使用的是Vagrant</li>
<li>docs：文档</li>
<li>events：事件监听机制</li>
<li>gossip：通信协议，组织内部的通信，区块同步</li>
<li>gotools：用于编译</li>
<li>images：docker镜像相关的</li>
<li>msp：成员服务管理，member serivce provider 读取证书做签名</li>
<li>orderer：排序节点</li>
<li>peer：peer节点</li>
<li>proposals：用于扩展，新功能的提案</li>
<li>protos：数据结构的定义</li>
</ul>
</li>
<li><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220110135049.png" alt="image-20220110135013312"></p>
</li>
</ul>
<h2 id="共识机制源码"><a href="#共识机制源码" class="headerlink" title="共识机制源码"></a>共识机制源码</h2><blockquote>
<p>如果使用goland查看源码时import全部标红的话，进入这个设置，将第一个Enable Go … 这个框勾掉即可。<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220110140311.png" alt="image-20220110140310255"></p>
</blockquote>
<ul>
<li><p>orderer节点的源码</p>
</li>
<li><p>首先看orderer目录下的main.go</p>
</li>
<li><p>main.go里有一个NewServer</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220110145806.png" alt="image-20220110145805341"></p>
</li>
<li><p>从sever.go可以具体查看交易收集和广播区块</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220110145855.png" alt="image-20220110145853957"></p>
</li>
<li><p>点击Manager，进入Manager.go查看源码（还在sever.go里）</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220110150014.png" alt="image-20220110150005861"></p>
</li>
<li><p>点击chainsupport，查看（在manager.go中）<br><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220110153610.png" alt="image-20220110153609457"></p>
</li>
<li><p>点receiver进去，看区块切割（在chainsupport.go中）<br><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220110155258.png" alt="image-20220110155256319"></p>
</li>
</ul>
<h2 id="回顾共识机制源码"><a href="#回顾共识机制源码" class="headerlink" title="回顾共识机制源码"></a>回顾共识机制源码</h2><ul>
<li>main.go是入口，orderer节点的初始化</li>
<li>manager.go是控制中枢，是对链的操作，拿到chainsupport对象</li>
<li>chainsupport.go链对象额代理，与链式对应的关系</li>
<li>Cut（）方法是区块切割</li>
<li>solo和kafka相关的设置</li>
<li>sever.go有两个Handle，是交易收集和区块扩散的方法</li>
<li>将共识简化为了排序，最终一致性</li>
</ul>
<h1 id="fabric账本存储"><a href="#fabric账本存储" class="headerlink" title="fabric账本存储"></a>fabric账本存储</h1><h2 id="账本存储概念"><a href="#账本存储概念" class="headerlink" title="账本存储概念"></a>账本存储概念</h2><ul>
<li><p>peer节点做账本存储</p>
</li>
<li><p>orderer是临时存储区块，peer节点时账本存储的持久化，会改变世界状态。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220110163404.png" alt="image-20220110163210283"></p>
</li>
<li><p>文件系统，区块是存储为文件</p>
</li>
<li><p>区块索引，用于查询区块，是用levelDB实现的</p>
</li>
<li><p>状态数据库，一般村存放区块链最新状态，数据不需要HA，可以从文件系统再次获取，couchDB支持模糊查询</p>
</li>
</ul>
<h2 id="交易读写集"><a href="#交易读写集" class="headerlink" title="交易读写集"></a>交易读写集</h2><ul>
<li><p>回忆交易流程</p>
<ul>
<li>交易模拟<ul>
<li>在背书节点执行模拟时，最终返回交易读写集（RWset），告诉区块链在交易中读写了哪些数据</li>
</ul>
</li>
<li>交易排序</li>
<li>交易验证，交易验证后，更新世界状态，更新的就是读写集中的写集</li>
</ul>
</li>
<li><p>交易读写集的3个概念</p>
<ul>
<li>读集：包含键的列表，键的提交版本，读取赌赢的值，返回的是已提交的状态的值（读已提交），不能读取交易过程中写入的数据。</li>
<li>写集：包含键的列表，写入的数据的值，如果多次写入，以最后一次为准。</li>
<li>版本号：用区块高度和交易编号组成的。</li>
</ul>
</li>
<li><p>交易验证阶段是对读写集进行验证（验证读集）</p>
<ul>
<li>验证读集的版本号是和否等于世界状态的版本号</li>
</ul>
</li>
</ul>
<h2 id="账本存储相关概念"><a href="#账本存储相关概念" class="headerlink" title="账本存储相关概念"></a>账本存储相关概念</h2><ul>
<li><p>世界状态</p>
<ul>
<li>交易执行后，所有键的最新值</li>
</ul>
</li>
<li><p>历史数据索引（可选）</p>
</li>
<li><p>区块储存</p>
<ul>
<li>按照文件去存 blockfile_xxxx</li>
<li>文件大小是64M，若修改，需要重新编译peer源码</li>
<li>账本最大容量64M*</li>
</ul>
</li>
<li><p>区块读取</p>
<ul>
<li>区块文件流</li>
<li>区块流</li>
<li>迭代器</li>
</ul>
</li>
<li><p>区块索引</p>
<ul>
<li>键：区块高度，区块哈希，交易哈希</li>
<li>值：区块文件编号，文件内的偏移量，区块数据的长度</li>
</ul>
</li>
<li><p>区块提交</p>
</li>
<li><p>保存到文件</p>
</li>
</ul>
<h2 id="账本存储相关源码"><a href="#账本存储相关源码" class="headerlink" title="账本存储相关源码"></a>账本存储相关源码</h2><ul>
<li>从4方面看，读写集，状态数据， 历史数据，区块文件</li>
<li>可以先从core/ledger 下的 ledger_interface.go 中看大体结构</li>
<li><strong>读写集</strong>，分为交易读写集的生成和交易读写集的验证两个部分去看。<ul>
<li>交易读写集生成<ul>
<li>fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/lockbased_tx_simulator.go</li>
</ul>
</li>
<li>交易读写集验证<ul>
<li>fabric/core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator.go</li>
</ul>
</li>
</ul>
</li>
<li><strong>状态数据库</strong>：看levelDB的实现<ul>
<li>fabric/core/ledger/kvledger/txmgmt/statedb/stateleveldb/stateleveldb.go</li>
</ul>
</li>
<li><strong>历史数据库</strong>：看levelDB的实现<ul>
<li>fabric/core/ledger/kvledger/history/historydb/historyleveldb/historyleveldb.go</li>
</ul>
</li>
<li><strong>区块文件读取</strong><ul>
<li>fabric/common/ledger/blkstorage/fsblkstorage/fs_blockstore.go</li>
<li>区块流：fabric/common/ledger/blkstorage/fsblkstorage/block_stream.go</li>
</ul>
</li>
</ul>
<h2 id="账本存储相关源码总结"><a href="#账本存储相关源码总结" class="headerlink" title="账本存储相关源码总结"></a>账本存储相关源码总结</h2><ul>
<li>首先看了账本根存储的根目录的接口，从宏观上把握</li>
<li>交易读写集的生成和验证</li>
<li>数据库增删改查</li>
<li>要有一个没有实现的方法，数据剪裁的接口，可能去解决数据无限增长的处理</li>
</ul>
<h1 id="fabric智能合约"><a href="#fabric智能合约" class="headerlink" title="fabric智能合约"></a>fabric智能合约</h1><h2 id="智能合约"><a href="#智能合约" class="headerlink" title="智能合约"></a>智能合约</h2><p>fabric_asset配置好的文件下载：<a target="_blank" href="/doc/fabric_asset.zip">点击下载fabric_asset.zip</a></p>
<ul>
<li><p>执行环境：以太坊虚拟智能合约执行环境EVM，fabric执行环境是docker</p>
</li>
<li><p>链码</p>
<ul>
<li>是应用层和区块链底层的中间点</li>
<li>每一个链码执行环境是一个独立的docker</li>
<li>使用GRPC协议与背书节点通讯，只有背书节点才能运行智能合约</li>
</ul>
</li>
<li><p>链码的生命周期</p>
<ul>
<li>打包，智能合约的编写和编译</li>
<li>安装，将打包好的文件，上传到背书节点</li>
<li>实例化，实际的安装了，执行Init方法，只执行一次，构造函数</li>
<li>升级，升级和修复链码</li>
<li>交互，自己定义的方法的调用</li>
</ul>
</li>
<li><p>链码的交互流程</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220111130908.png" alt="image-20220111130907628"></p>
</li>
<li><p>系统链码（了解）</p>
<ul>
<li>LSCC：管理链码的生命周期</li>
<li>CSCC：配置管理链码，管理链的配置</li>
<li>QSCC：查询账本存储，是一个区块索引的外部服务</li>
<li>ESCC：交易背书的链码，交易执行后的链码进行封装签名，给客户端返回背书交易结果。</li>
<li>VSCC：交易验证的链码</li>
</ul>
</li>
<li><p>链码编程的接口</p>
<ul>
<li>Init()：链码初始化，只执行一次</li>
<li>Invoke()：链码的业务逻辑的编写</li>
<li>上面2个方法参数一样，参数是SDK的接口</li>
</ul>
</li>
<li><p>链码SDK的接口</p>
<ul>
<li>写代码再看</li>
</ul>
</li>
<li><p>一些注意点</p>
<ul>
<li>分布式多机多节点执行，链码会执行很多次</li>
<li>不写随机函数，交易会无效，多次执行不一样</li>
<li>系统时间不写，多机时间不一定一样</li>
</ul>
</li>
</ul>
<h2 id="网络搭建配置的实现"><a href="#网络搭建配置的实现" class="headerlink" title="网络搭建配置的实现"></a>网络搭建配置的实现</h2><ul>
<li><p><strong>crypto-config.yaml</strong>：用于配置组织节点的个数，参考firstnetwork去编写</p>
</li>
<li><p>编写好后，传到linux对应目录</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220111220422.png" alt="image-20220111220421700"></p>
</li>
<li><p>进入deploy目录，设置工作目录为当前目录</p>
<p><code>export FABRIC_CFG_PATH=$GOPATH/src/fabric_asset/deploy</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201112316260.png" alt="image-20220111231610245"></p>
</li>
<li><p>指定按照yaml文件生成配置</p>
<p><code>cryptogen generate --config=./crypto-config.yaml</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201112318839.png" alt="image-20220111231835718"></p>
</li>
<li><p><strong>configtx.yaml</strong>：用于区块联盟中的组织信息，配合名字和证书等的位置，参考firstnetwork去编写</p>
</li>
<li><p>编写好后，传到linux对应目录</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201112323346.png" alt="image-20220111220421700"></p>
</li>
<li><p>创建用于存放配置的目录</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201121625352.png" alt="image-20220112162508038"></p>
</li>
<li><p><strong>生成系统链的创世区块</strong></p>
</li>
<li><p>-profile 指定联盟配置，-outputBlock 指定存放的位置</p>
<p><code>configtxgen -profile OneOrgsOrdererGenesis -outputBlock ./config/genesis.block</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201121628296.png" alt="image-20220112162808968"></p>
</li>
<li><p><strong>生成通道的创世交易</strong></p>
</li>
<li><p>profile 指定业务联盟，outputCreateChannelTx存放的路径，插件的名字叫做mychannel</p>
<p><code>configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./config/mychannel.tx -channelID mychannel</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201131517067.png" alt="image-20220113151701675"></p>
<blockquote>
<p>注意：如果使用虚拟机为平台的话，会出现用ssh连接执行命令执行出错的情况发生，具体原因不详，但是在虚拟机上可以正常执行并生成成功。</p>
</blockquote>
</li>
<li><p><strong>生成两个组织锚节点的交易信息</strong></p>
<p><code>configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./config/Org0MSPanchors.tx -channelID mychannel -asOrg Org0MSP</code></p>
<p><code>configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./config/Org1MSPanchors.tx -channelID mychannel -asOrg Org1MSP</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201131532043.png" alt="image-20220113153247804"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201131534780.png" alt="image-20220113153436463"></p>
</li>
<li><p>将docker-compose.yaml拖进deploy目录</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211329882.png" alt="image-20220114165038705"></p>
</li>
</ul>
<h2 id="启动网络"><a href="#启动网络" class="headerlink" title="启动网络"></a>启动网络</h2><ul>
<li><p><strong>启动docker，后台运行</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201141811282.png" alt="image-20220114181144436"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211036361.png" alt="image-20220121103619727"></p>
</li>
<li><p>查看orderer节点的运行日志</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211036157.png" alt="image-20220121103654831"></p>
</li>
<li><p>与客户端交互操作</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211043457.png" alt="image-20220121104301852"></p>
</li>
<li><p><strong>创建通道</strong></p>
</li>
<li><p>-o 指定与哪个orderer节点进行通信，-c指定创建的通道名称，-f指定使用的文件</p>
<blockquote>
<p>出现的错误一般情况下是docker-compose中书写有误，e.g.映射路径中etc目录写成了ect</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211206681.png" alt="image-20220121120625533"></p>
</li>
<li><p><strong>加入通道</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211210517.png" alt="image-20220121121002769"></p>
</li>
<li><p>查看peer加入的通道列表：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211211163.png" alt="image-20220121121110870"></p>
</li>
<li><p><strong>指定主节点</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211213553.png" alt="image-20220121121336157"></p>
</li>
<li><p><strong>基础网络完成了</strong></p>
</li>
</ul>
<hr>
<ul>
<li><p><strong>安装链码</strong></p>
</li>
<li><p>-n是安装的名字，-v是version，-l是使用的语言</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211220565.png" alt="image-20220121122000349"></p>
</li>
<li><p><strong>克隆一个会话</strong>，交互执行peer0，查看安装的链码</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211223314.png" alt="image-20220121122348993"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211225618.png" alt="image-20220121122517281"></p>
</li>
<li><p><strong>链码实例化</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211231478.png" alt="image-20220121123124872"></p>
</li>
<li><p>链码交互执行</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211242449.png" alt="image-20220121124213503"></p>
</li>
<li><p>多次执行查询，得到的结果不同，因为invoke（）中使用了随机数，不要这么做。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211245508.png" alt="image-20220121124536471"></p>
</li>
</ul>
<h1 id="fabric链码案例"><a href="#fabric链码案例" class="headerlink" title="fabric链码案例"></a>fabric链码案例</h1><h2 id="链码入门"><a href="#链码入门" class="headerlink" title="链码入门"></a>链码入门</h2><ul>
<li><p>编写hello.go，完成后，拖到linux对应目录</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211306765.png" alt="image-20220121130639382"></p>
</li>
<li><p><strong>安装链码</strong></p>
</li>
<li><p>-n是安装的名字，-v是version，-l是使用的语言</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211309023.png" alt="image-20220121130951831"></p>
</li>
<li><p>实例化链码</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211314692.png" alt="image-20220121131431500"></p>
</li>
<li><p>链码调用</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211316775.png" alt="image-20220121131610535"></p>
</li>
</ul>
<h2 id="账户相关链码"><a href="#账户相关链码" class="headerlink" title="账户相关链码"></a>账户相关链码</h2><ul>
<li><p>Init（）方法与例子程序类似</p>
</li>
<li><p>Invoke（）方法包含query，invoke，set，get，</p>
</li>
<li><p>编写完成后拖到linux对应目录</p>
</li>
<li><p>启动容器</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211742920.png" alt="image-20220121174057468"></p>
</li>
<li><p>交互执行</p>
<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211742920.png"/>
</li>
<li><p>创建通道</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211744978.png" alt="image-20220121174426685"></p>
</li>
<li><p>加入通道</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211745648.png" alt="image-20220121174527349"></p>
</li>
<li><p>设置主节点</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211747968.png" alt="image-20220121174721400"></p>
</li>
<li><p>安装链码</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211749638.png" alt="image-20220121174953989"></p>
</li>
<li><p>实例化链码</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211753092.png" alt="image-20220121175309884"></p>
</li>
<li><p>查询user1的余额</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211756382.png" alt="image-20220121175634359"></p>
</li>
<li><p>user1给user2转200元</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211758539.png" alt="image-20220121175842114"></p>
</li>
<li><p>向user1存100元</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211800126.png" alt="image-20220121180038895"></p>
</li>
<li><p>向user1取200元</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201211801284.png" alt="image-20220121180152224"></p>
</li>
</ul>
<h2 id="贷款还款相关链码"><a href="#贷款还款相关链码" class="headerlink" title="贷款还款相关链码"></a>贷款还款相关链码</h2><ul>
<li><p>编写Trace下的代码，编写好后，拖到对应linux目录</p>
</li>
<li><p>保证网络基础OK的情况下，安装链码</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201221455452.png" alt="image-20220122145534672"></p>
</li>
<li><p>实例化链码</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201221458929.png" alt="image-20220122145831365"></p>
</li>
<li><p>运行测试</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201221500977.png" alt="image-20220122150047323"></p>
</li>
<li><p>贷款500W</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201221503934.png" alt="image-20220122150341567"></p>
</li>
<li><p>还款500</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201221505292.png" alt="image-20220122150527823"></p>
</li>
</ul>
<h2 id="公民身份信息相关链码"><a href="#公民身份信息相关链码" class="headerlink" title="公民身份信息相关链码"></a>公民身份信息相关链码</h2><ul>
<li><p>编写citizens下的代码，编写好后，拖到对应linux目录</p>
</li>
<li><p>安装链码</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201221913015.png" alt="image-20220122191304566"></p>
</li>
<li><p>链码实例化</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201221931645.png" alt="image-20220122193129390"></p>
</li>
<li><p>身份查询</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201221932544.png" alt="image-20220122193243135"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201221933442.png" alt="image-20220122193311699"></p>
</li>
</ul>
<h2 id="合约相关链码"><a href="#合约相关链码" class="headerlink" title="合约相关链码"></a>合约相关链码</h2><ul>
<li><p>编写contract下的代码，编写好后，拖到对应linux目录</p>
</li>
<li><p>安装链码</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201231513268.png" alt="image-20220123151326386"></p>
</li>
<li><p>链码实例化</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201231515006.png" alt="image-20220123151524636"></p>
</li>
<li><p>发布合约</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201231522057.png" alt="image-20220123152252818"></p>
</li>
<li><p>响应合约</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201231535519.png" alt="image-20220123153527155"></p>
</li>
<li><p>合约成交</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201231540970.png" alt="image-20220123154053895"></p>
</li>
<li><p>合约关闭</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201231541581.png" alt="image-20220123154120913"></p>
</li>
<li><p>查询合约的最新数据</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201231545995.png" alt="image-20220123154555108"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201231547838.png" alt="image-20220123154700388"></p>
</li>
<li><p>查询合约所有数据</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201231548214.png" alt="image-20220123154854036"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201231549077.png" alt="image-20220123154951755"></p>
</li>
</ul>
<h1 id="fabric链码案例-1"><a href="#fabric链码案例-1" class="headerlink" title="fabric链码案例"></a>fabric链码案例</h1><h2 id="流程整理"><a href="#流程整理" class="headerlink" title="流程整理"></a>流程整理</h2><ul>
<li>让什么数据上链<ul>
<li>所有节点备份数据耗费空间，视频等不要上链</li>
</ul>
</li>
<li>如何交互<ul>
<li>-c “Args”:[方法名，参数]</li>
</ul>
</li>
<li>编写合约<ul>
<li>Init</li>
<li>Invoke</li>
</ul>
</li>
<li>拖到linux运行，基于配置好的网络去部署运行（安装和实例化）</li>
<li>合约交互</li>
<li>SDK调用（页面点击或输入信息）</li>
</ul>
<h2 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h2><ul>
<li>开发转让资产</li>
<li>功能<ul>
<li>用户开户和销户</li>
<li>资产登记，资产上链，与具体的用户绑定</li>
<li>资产转让，资产的所有权变更</li>
<li>查询功能，用户查询，资产查询，资产变更的历史查询</li>
</ul>
</li>
<li>业务实体<ul>
<li>用户<ul>
<li>名字</li>
<li>身份证（表示）</li>
<li>资产列表</li>
</ul>
</li>
<li>资产<ul>
<li>名字</li>
<li>标识</li>
<li>特殊属性列表（车：排量，品牌，座位）</li>
</ul>
</li>
<li>资产的变更记录<ul>
<li>资产标识</li>
<li>资产的原始拥有者</li>
<li>资产变更后的拥有者</li>
</ul>
</li>
</ul>
</li>
<li>交互方法<ul>
<li>用户开户<ul>
<li>参数：名字，标识</li>
</ul>
</li>
<li>用户销户<ul>
<li>标识</li>
</ul>
</li>
<li>资产登记<ul>
<li>名字，标识，特殊属性列表，拥有者</li>
</ul>
</li>
<li>资产转让<ul>
<li>拥有者，资产标识，受让者</li>
</ul>
</li>
<li>用户查询<ul>
<li>参数：标识，返回值：用户实体</li>
</ul>
</li>
<li>资产查询<ul>
<li>参数：标识，返回值：资产实体</li>
</ul>
</li>
<li>资产的变更查询<ul>
<li>参数：资产标识，返回值：资产的变更列表</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="合约编写"><a href="#合约编写" class="headerlink" title="合约编写"></a>合约编写</h2><ul>
<li><p>合约编写完成，传到linux对应目录</p>
</li>
<li><p>创建通道的创世交易（channel名字不能有大写）</p>
</li>
<li><p>configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./config/assetschannel.tx -channelID assetschannel</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272240598.png" alt="image-20220127224057055"></p>
<blockquote>
<p>如果出现这个提醒</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272252094.png" alt="image-20220127225209757"></p>
<p>很有可能是<strong>FABRIC_CFG_PATH</strong>环境变量没有配置成功，可以直接在deploy目录下设置<code>export FABRIC_CFG_PATH=$PWD</code>再次执行该命令即可</p>
</blockquote>
</li>
<li><p>交互执行</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272257319.png" alt="image-20220127225717142"></p>
</li>
<li><p>创建通道</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272256365.png" alt="image-20220127225642703"></p>
</li>
<li><p>加入通道</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272258425.png" alt="image-20220127225818220"></p>
</li>
<li><p>查看通道</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272259992.png" alt="image-20220127225939825"></p>
</li>
<li><p>安装链码</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272304218.png" alt="image-20220127230407170"></p>
</li>
<li><p>链码实例化</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272306073.png" alt="image-20220127230612835"></p>
</li>
<li><p>注册</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272312816.png" alt="image-20220127231250260"></p>
</li>
<li><p>用户查询</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272317960.png" alt="image-20220127231727671"></p>
</li>
<li><p>资产登记</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272316518.png" alt="image-20220127231633131"></p>
</li>
<li><p>资产查询，查询用户资产绑定</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272318986.png" alt="image-20220127231840930"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272321822.png" alt="image-20220127232101943"></p>
</li>
<li><p>注册了第二个用户</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272322838.png" alt="image-20220127232251735"></p>
</li>
<li><p>资产转让</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272328868.png" alt="image-20220127232819530"></p>
</li>
<li><p>查询用户二的用户状态</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272330021.png" alt="image-20220127233036799"></p>
</li>
<li><p>查询资产一的状态</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272330798.png" alt="image-20220127233020447"></p>
</li>
<li><p>查询所有资产的变更历史</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201272332821.png" alt="image-20220127233211273"></p>
</li>
<li><p>注销用户2，下面的资产也会随之注销</p>
</li>
</ul>
<h2 id="链码开发者模式"><a href="#链码开发者模式" class="headerlink" title="链码开发者模式"></a>链码开发者模式</h2><ul>
<li><p>将docker-compose关闭</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201281136004.png" alt="image-20220128113616795"></p>
</li>
<li><p>修改docker-compose配置</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201281138835.png" alt="image-20220128113801622"></p>
</li>
<li><p>运行docker</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201281138128.png" alt="image-20220128113841738"></p>
</li>
<li><p>在另一个会话找到编写好的智能合约</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201281142293.png" alt="image-20220128114238923"></p>
</li>
<li><p>运行链码</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201281154569.png" alt="image-20220128115426486"></p>
</li>
<li><p>在另一个会话进入交互执行</p>
</li>
<li><p>链码安装，实例化，调用之后，修改链码</p>
</li>
<li><p>将第二个，链码运行的对话ctrl+C结束，重新运行链码执行命令</p>
</li>
<li><p>注意：链码开发用这个模式没问题，SDK调用时，可能会出现问题，开发完智能合约关掉开发者模式</p>
</li>
</ul>
<h2 id="外部服务分析"><a href="#外部服务分析" class="headerlink" title="外部服务分析"></a>外部服务分析</h2><ul>
<li>如何提供外部服务<ul>
<li>企业内部各种数据接口，rpc，grpc</li>
<li>网站（web），手机（app），通过http</li>
<li>智能硬件，socket服务</li>
</ul>
</li>
<li>SDK提供外部服务，SDK的语言选择<ul>
<li>node.js（官方推荐，效率 9颗星）</li>
<li>java（实际使用量最大的 9颗星）</li>
<li>python（使用不太多 3颗星）</li>
<li>golang（不稳定，常用方法也没有，1颗星）</li>
</ul>
</li>
<li>SDK的模块<ul>
<li>区块链的管理：例如通道的创建和加入，链码的安装，实例化等</li>
<li>数据查询：区块和交易的查询</li>
<li>区块链交互（链码交互）：发起交易，invoke，query</li>
<li>事件监听：业务事件，系统事件</li>
</ul>
</li>
</ul>
<h2 id="SDK的下载和配置"><a href="#SDK的下载和配置" class="headerlink" title="SDK的下载和配置"></a>SDK的下载和配置</h2></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-01-07T09:39:21.000Z" title="2022/1/7 下午5:39:21">2022-01-07</time>发表</span><span class="level-item"><time dateTime="2022-01-11T15:41:04.431Z" title="2022/1/11 下午11:41:04">2022-01-11</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span><span class="level-item">5 分钟读完 (大约779个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/63228">树莓派入门</a></h1><div class="content"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本篇博客基于树莓派4b，系统为Raspberry</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202201112341284.jpeg"></p>
<h1 id="硬件改装"><a href="#硬件改装" class="headerlink" title="硬件改装"></a>硬件改装</h1><h2 id="添加风扇"><a href="#添加风扇" class="headerlink" title="添加风扇"></a>添加风扇</h2><h2 id="添加外壳"><a href="#添加外壳" class="headerlink" title="添加外壳"></a>添加外壳</h2><h1 id="镜像"><a href="#镜像" class="headerlink" title="镜像"></a>镜像</h1><p>因为树莓派使用的是arm架构的cpu，所以一些x86的系统并不兼容。</p>
<h2 id="Raspbian"><a href="#Raspbian" class="headerlink" title="Raspbian"></a>Raspbian</h2><p>树莓派官方推荐的系统，还算是比较好用，自家的系统据说对于GPIO的支持比较强大。（但是想要把树莓派当做小服务器玩的话就会不太方便。。）</p>
<p>已知的问题有：</p>
<blockquote>
<ol>
<li>不完全支持docker。</li>
</ol>
</blockquote>
<h2 id="Centos"><a href="#Centos" class="headerlink" title="Centos"></a>Centos</h2><p>尝试过刷该系统针对树莓派的版本，但是失败了。</p>
<h1 id="ssh连接"><a href="#ssh连接" class="headerlink" title="ssh连接"></a>ssh连接</h1><p>如果有图像环境（向外有HDMI输出的话）可以通过图形选择打开树莓派的ssh连接，新买的树莓派是默认关闭ssh连接的，如果需要ssh连接，需要先打开。</p>
<p>如果没有图像环境，可以通过以下步骤进行树莓派的ssh连接。</p>
<h2 id="1-开启ssh"><a href="#1-开启ssh" class="headerlink" title="1.开启ssh"></a>1.开启ssh</h2><p>将树莓派的SD卡通过读卡器连接到pc上，打开SD卡盘符在的boot分区下建立<code>ssh</code>文本文档，注意，该文档没有后缀。（一些教程说可以建立一个ssh文件夹，应该原理是相似的）</p>
<h2 id="2-进行连接即可"><a href="#2-进行连接即可" class="headerlink" title="2.进行连接即可"></a>2.进行连接即可</h2><p>通过1将树莓派的ssh打开之后，将sd卡装回树莓派，插一根网线到路由器上，然后重新开机后。找到树莓派对应的内网ip。之后直接通过ssh工具（比如mobaxterm）进行连接即可。或者通过win10的命令窗口也可以进行连接。</p>
<p>win10的ssh命令如下：</p>
<blockquote>
<p>ssh -oPort=22 <a href="mailto:&#x70;&#105;&#64;&#120;&#120;&#x78;&#x2e;&#x78;&#120;&#120;&#46;&#x78;&#x78;&#120;&#x2e;&#120;&#120;&#x78;">&#x70;&#105;&#64;&#120;&#120;&#x78;&#x2e;&#x78;&#120;&#120;&#46;&#x78;&#x78;&#120;&#x2e;&#120;&#120;&#x78;</a></p>
</blockquote>
<blockquote>
<p>默认的ssh端口是22。</p>
<p>默认的用户名是：pi</p>
<p>默认的登录密码是：raspberry</p>
</blockquote>
<h1 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h1><h2 id="有线网络配置"><a href="#有线网络配置" class="headerlink" title="有线网络配置"></a>有线网络配置</h2><p>直接将网线插入树莓派的网线插口即可，路由器会自动分配一个内网ip，从路由器的管理网站上找到树莓派分配的ip之后就可以进行ssh连接了。</p>
<h2 id="无线网络配置"><a href="#无线网络配置" class="headerlink" title="无线网络配置"></a>无线网络配置</h2><p>已知的有两种方法进行无线网络的配置，一种是修改刷过镜像的sd卡中的树莓派的文件，一种是ssh连接之后通过命令行进行修改。</p>
<p>这里说一下后一种配置。</p>
<h3 id="1-激活WiFi"><a href="#1-激活WiFi" class="headerlink" title="1.激活WiFi"></a>1.激活WiFi</h3><p>1）启用wifi</p>
<blockquote>
<p> rfkill unblock wifi</p>
</blockquote>
<p>2）激活网卡</p>
<blockquote>
<p>sudo ifconfig wlan0 up</p>
</blockquote>
<h3 id="2-扫描WiFi"><a href="#2-扫描WiFi" class="headerlink" title="2.扫描WiFi"></a>2.扫描WiFi</h3><blockquote>
<p>sudo iwlist wlan0 scan</p>
</blockquote>
<h3 id="3-设置需要连接的wifi名称及密码"><a href="#3-设置需要连接的wifi名称及密码" class="headerlink" title="3.设置需要连接的wifi名称及密码"></a>3.设置需要连接的wifi名称及密码</h3><blockquote>
<p>sudo nano /etc/wpa_supplicant/wpa_supplicant.conf</p>
</blockquote>
<blockquote>
<p>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev<br>update_config=1<br>country=CN</p>
<p>network={<br>       ssid=”这里填需要连接的wifi的名称（不要连5G那个）”<br>       psk=”这里填需要连接的wifi的密码”<br>       key_mgmt=WPA-PSK<br>}</p>
</blockquote>
<h3 id="4-重启树莓派"><a href="#4-重启树莓派" class="headerlink" title="4.重启树莓派"></a>4.重启树莓派</h3><blockquote>
<p>sudo reboot</p>
</blockquote>
<p>重启之后即可生效，拔掉网线，只需一根电源线就可以保证树莓派能够连接到网络辣。</p>
<h1 id="frp内网穿透"><a href="#frp内网穿透" class="headerlink" title="frp内网穿透"></a>frp内网穿透</h1></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-01-07T09:39:07.000Z" title="2022/1/7 下午5:39:07">2022-01-07</time>发表</span><span class="level-item"><time dateTime="2022-02-02T08:43:05.052Z" title="2022/2/2 下午4:43:05">2022-02-02</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span><span class="level-item">几秒读完 (大约80个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/21062">Python入门</a></h1><div class="content"><p>本文参考《python编程从入门到实践》，在Jupyter上完成各章节的学习和试验</p>
<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/202202021633958.jpeg" alt="查看源图像" style="zoom:50%;" />

<p>下面是从Jupyter中导出的PDF文件</p>
<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ul>
<li><a target="_blank" href="/doc/《Python编程从入门到实践》(1~3章).pdf">《Python编程从入门到实践》(1~3章)</a></li>
<li><a target="_blank" href="/doc/《Python编程从入门到实践》(4~5章).pdf">《Python编程从入门到实践》(4~5章)</a></li>
<li><a target="_blank" href="/doc/《Python编程从入门到实践》(6~7章).pdf">《Python编程从入门到实践》(6~7章)</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-01-07T09:38:50.000Z" title="2022/1/7 下午5:38:50">2022-01-07</time>发表</span><span class="level-item"><time dateTime="2022-01-09T03:07:39.163Z" title="2022/1/9 上午11:07:39">2022-01-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span><span class="level-item">几秒读完 (大约5个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/10811">git入门</a></h1><div class="content"><p>（坑）待填</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-01-04T08:01:41.000Z" title="2022/1/4 下午4:01:41">2022-01-04</time>发表</span><span class="level-item"><time dateTime="2022-01-04T10:45:25.434Z" title="2022/1/4 下午6:45:25">2022-01-04</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%96%87%E5%8C%96%E8%AF%BE/">文化课</a></span><span class="level-item">2 分钟读完 (大约258个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/12732">离散数学复习</a></h1><div class="content"><h1 id="文件下载"><a href="#文件下载" class="headerlink" title="文件下载"></a>文件下载</h1><p><a target="_blank" href="/doc/数据结构【蜂考速成课】.pdf">蜂考教案</a></p>
<h1 id="第一章-命题逻辑"><a href="#第一章-命题逻辑" class="headerlink" title="第一章 命题逻辑"></a>第一章 命题逻辑</h1><h2 id="1-1-命题"><a href="#1-1-命题" class="headerlink" title="1.1 命题"></a>1.1 命题</h2><p><strong>命题</strong>是指非真必假的陈述句。疑问句祈使句，感叹句无法判断真假，都不是命题。<strong>（悖论和判断结果不唯一的陈述句也不是命题）</strong></p>
<p>命题用<strong>小写的英文字母</strong>表示。</p>
<p><strong>命题的真值</strong>指的是命题判断的结果。</p>
<p><strong>真值的取值</strong>：真和假</p>
<p><strong>原子命题</strong>：不能再分解为更简单的命题，这个命题称作原子命题。（简单命题）</p>
<p><strong>分子命题：</strong>由简单命题与联结词按一定规则复合而成的命题（复合命题）</p>
<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211203130638.png" alt="image-20211203130636906" style="zoom:50%;" />

<p><strong>联结词与符合命题</strong>：</p>
<ul>
<li><p>否定式：非p（<strong>¬</strong>）</p>
</li>
<li><p>合取式：p并且q（<strong>∧</strong>）</p>
</li>
<li><p>析取式：p或q（<strong>∨</strong>）</p>
</li>
</ul>
<p><strong>命题的否定</strong>是指对整体进行否定而不是对局部进行否定。</p>
<p><strong>析取</strong>：相容或(可兼或) &amp; 排斥或(不可兼或)</p>
<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211203131443.png" alt="image-20211203131442088" style="zoom: 33%;" />

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-01-04T04:28:51.000Z" title="2022/1/4 下午12:28:51">2022-01-04</time>发表</span><span class="level-item"><time dateTime="2022-01-04T13:24:50.414Z" title="2022/1/4 下午9:24:50">2022-01-04</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%96%87%E5%8C%96%E8%AF%BE/">文化课</a></span><span class="level-item">6 分钟读完 (大约864个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/11651">数据结构复习</a></h1><div class="content"><h1 id="文件下载"><a href="#文件下载" class="headerlink" title="文件下载"></a>文件下载</h1><p><a target="_blank" href="/doc/15 离散数学【蜂考速成课】.pdf">蜂考教案</a></p>
<h1 id="数据结构期末考试考点"><a href="#数据结构期末考试考点" class="headerlink" title="数据结构期末考试考点"></a>数据结构期末考试考点</h1><h1 id="第一章-数据结构和算法"><a href="#第一章-数据结构和算法" class="headerlink" title="第一章 数据结构和算法"></a>第一章 数据结构和算法</h1><h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104165526.png" alt="image-20220104165418570"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104170101.png" alt="image-20220104170101034"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104170204.png" alt="image-20220104170202321"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104170622.png" alt="image-20220104170621498"></p>
<h2 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104170634.png" alt="image-20220104170633707"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104170649.png" alt="image-20220104170649183"></p>
<h1 id="第二章-顺序表"><a href="#第二章-顺序表" class="headerlink" title="第二章 顺序表"></a>第二章 顺序表</h1><h2 id="线性表"><a href="#线性表" class="headerlink" title="线性表"></a>线性表</h2><p>逻辑结构，顺序表和链表都属于线性表。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104170856.png" alt="image-20220104170855615"></p>
<h2 id="顺序表的结构"><a href="#顺序表的结构" class="headerlink" title="顺序表的结构"></a>顺序表的结构</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104171140.png" alt="image-20220104171140069"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104171210.png" alt="image-20220104171209546"></p>
<h1 id="第三章-链表"><a href="#第三章-链表" class="headerlink" title="第三章 链表"></a>第三章 链表</h1><h2 id="单链表的结构"><a href="#单链表的结构" class="headerlink" title="单链表的结构"></a>单链表的结构</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104171349.png" alt="image-20220104171347126"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104171435.png" alt="image-20220104171435076"></p>
<h2 id="双链表和循环链表"><a href="#双链表和循环链表" class="headerlink" title="双链表和循环链表"></a>双链表和循环链表</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104171628.png" alt="image-20220104171627390"></p>
<h1 id="第四章-栈和队列"><a href="#第四章-栈和队列" class="headerlink" title="第四章 栈和队列"></a>第四章 栈和队列</h1><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104172213.png" alt="image-20220104172212748"></p>
<h2 id="栈的链式结构"><a href="#栈的链式结构" class="headerlink" title="栈的链式结构"></a>栈的链式结构</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104172321.png" alt="image-20220104172320492"></p>
<h2 id="队列的循序储存"><a href="#队列的循序储存" class="headerlink" title="队列的循序储存"></a>队列的循序储存</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104173418.png" alt="image-20220104173416688"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104185056.png" alt="image-20220104185055517"></p>
<p>头指针指的是头，尾指针指的是元素后面那一个。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104185134.png" alt="image-20220104185133113"></p>
<h1 id="第五章-串"><a href="#第五章-串" class="headerlink" title="第五章 串"></a>第五章 串</h1><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104185216.png" alt="image-20220104185215648"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104185246.png" alt="image-20220104185246091"></p>
<h2 id="矩阵的压缩"><a href="#矩阵的压缩" class="headerlink" title="矩阵的压缩"></a>矩阵的压缩</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104185348.png" alt="image-20220104185343818"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104185423.png" alt="image-20220104185422836"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104185727.png" alt="image-20220104185724375"></p>
<h1 id="第六章-树和二叉树"><a href="#第六章-树和二叉树" class="headerlink" title="第六章 树和二叉树"></a>第六章 树和二叉树</h1><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104185836.png" alt="image-20220104185835966"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104190253.png" alt="image-20220104190252679"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104190335.png" alt="image-20220104190334480"></p>
<h2 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h2><p><img src="C:/Users/aa/AppData/Roaming/Typora/typora-user-images/image-20220104190934146.png" alt="image-20220104190934146"><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104190624.png" alt="image-20220104190623500"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104190938.png" alt="image-20220104190937231"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104191131.png" alt="image-20220104191131059"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104191205.png" alt="image-20220104191205336"></p>
<h2 id="树和森林"><a href="#树和森林" class="headerlink" title="树和森林"></a>树和森林</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104191316.png" alt="image-20220104191312271"></p>
<img src="C:/Users/aa/AppData/Roaming/Typora/typora-user-images/image-20220104191353188.png" alt="image-20220104191353188" style="zoom: 150%;" />

<h2 id="二叉排序树"><a href="#二叉排序树" class="headerlink" title="二叉排序树"></a>二叉排序树</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104191704.png" alt="image-20220104191702939"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104191723.png" alt="image-20220104191722685"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104191733.png" alt="image-20220104191732598"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104191900.png" alt="image-20220104191900316"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104191908.png" alt="image-20220104191907431"></p>
<p>为了删去78，用87来代替78。同时将原位置上的78进行删除操作，然后进行调整只有将87放到78的位置上。</p>
<h2 id="哈曼夫树"><a href="#哈曼夫树" class="headerlink" title="哈曼夫树"></a>哈曼夫树</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104192352.png" alt="image-20220104192349611"></p>
<h1 id="第八章-图"><a href="#第八章-图" class="headerlink" title="第八章 图"></a>第八章 图</h1><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104193348.png" alt="image-20220104193347692"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104193623.png" alt="image-20220104193622959"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104193716.png" alt="image-20220104193716102"></p>
<h2 id="图的储存"><a href="#图的储存" class="headerlink" title="图的储存"></a>图的储存</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104193739.png" alt="image-20220104193739125"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104194011.png" alt="image-20220104194010644"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104194230.png" alt="image-20220104194229415"></p>
<h1 id="第九章-图的应用"><a href="#第九章-图的应用" class="headerlink" title="第九章 图的应用"></a>第九章 图的应用</h1><h2 id="最小生成树"><a href="#最小生成树" class="headerlink" title="最小生成树"></a>最小生成树</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104200333.png" alt="image-20220104200330552"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104200406.png" alt="image-20220104200405678"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104200418.png" alt="image-20220104200418057"></p>
<h2 id="拓扑排序"><a href="#拓扑排序" class="headerlink" title="拓扑排序"></a>拓扑排序</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104200742.png" alt="image-20220104200741106"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104200810.png" alt="image-20220104200809191"></p>
<h2 id="关键路径"><a href="#关键路径" class="headerlink" title="关键路径"></a>关键路径</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104200917.png" alt="image-20220104200916498"></p>
<h1 id="第十章-查找"><a href="#第十章-查找" class="headerlink" title="第十章 查找"></a>第十章 查找</h1><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104201126.png" alt="image-20220104201126117"></p>
<h2 id="顺序查找"><a href="#顺序查找" class="headerlink" title="顺序查找"></a>顺序查找</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104201317.png" alt="image-20220104201316593"></p>
<h2 id="折半查找"><a href="#折半查找" class="headerlink" title="折半查找"></a>折半查找</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104201455.png" alt="image-20220104201454699"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104202602.png" alt="image-20220104202601701"></p>
<h2 id="散列表"><a href="#散列表" class="headerlink" title="散列表"></a>散列表</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104203101.png" alt="image-20220104203101075"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104203223.png" alt="image-20220104203222684"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104203302.png" alt="image-20220104203301950"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104203331.png" alt="image-20220104203331216"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104203414.png" alt="image-20220104203413411"></p>
<h1 id="第十一章-排序"><a href="#第十一章-排序" class="headerlink" title="第十一章 排序"></a>第十一章 排序</h1><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104203458.png" alt="image-20220104203457956"></p>
<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104203458.png"/>

<h2 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h2><h3 id="直接插入排序"><a href="#直接插入排序" class="headerlink" title="直接插入排序"></a>直接插入排序</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104203727.png" alt="image-20220104203726742"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-12-24T03:44:19.000Z" title="2021/12/24 上午11:44:19">2021-12-24</time>发表</span><span class="level-item"><time dateTime="2022-01-04T12:24:57.441Z" title="2022/1/4 下午8:24:57">2022-01-04</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%96%87%E5%8C%96%E8%AF%BE/">文化课</a></span><span class="level-item">35 分钟读完 (大约5275个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/16132">数字逻辑复习</a></h1><div class="content"><p>[TOC]</p>
<h1 id="PPT查看与下载"><a href="#PPT查看与下载" class="headerlink" title="PPT查看与下载"></a>PPT查看与下载</h1><blockquote>
<p><a target="_blank" href="/doc/第1章 数字逻辑基础 .pdf">第一章ppt</a></p>
<p><a target="_blank" href="/doc/第2章 逻辑门电路.pdf">第二章ppt</a></p>
<p><a target="_blank" href="/doc/第3章 组合逻辑电路.pdf">第三章ppt</a></p>
<p><a target="_blank" href="/doc/第4章 常用组合逻辑功能器件.pdf">第四章ppt</a></p>
<p><a target="_blank" href="/doc/第5章 时序逻辑电路.pdf">第五章ppt</a></p>
<p><a target="_blank" href="/doc/第6章 常用时序逻辑功能器件.pdf">第六章ppt</a></p>
</blockquote>
<h1 id="第一章-数字逻辑电路基础"><a href="#第一章-数字逻辑电路基础" class="headerlink" title="第一章 数字逻辑电路基础"></a>第一章 数字逻辑电路基础</h1><p>两类信号：模拟信号，数字信号。</p>
<p>时间和幅值均连续，模拟信号。时间和幅值均离散，数字信号。</p>
<p>处理数字信号的电路叫做数字电路。</p>
<h2 id="几种简单编码"><a href="#几种简单编码" class="headerlink" title="几种简单编码"></a>几种简单编码</h2><h3 id="BCD码"><a href="#BCD码" class="headerlink" title="BCD码"></a>BCD码</h3><p>8421码， 5421码，2421码, 余三码。</p>
<p>有权BCD码：8421码， 5421码，2421码。</p>
<p>5421BCD码和2421BCD码不唯一。</p>
<p>5421BCD码前五个码和后五个码一一对应，仅高位不同。</p>
<p>2421BCD码后五个码以中心对称去反，这样的代码成为自反代码。4和5互为反码，3和6，… 0和9互为反码。</p>
<p>余三码是无权BCD码，是在8421BCD码的基础上加上0011（3）形成的编码。每位数码无确定的位权。</p>
<h3 id="格雷码"><a href="#格雷码" class="headerlink" title="格雷码"></a>格雷码</h3><p>格雷码是循环码。</p>
<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225150313.png" alt="image-20211224115406876" style="zoom:50%;" />

<h3 id="奇偶校验码"><a href="#奇偶校验码" class="headerlink" title="奇偶校验码"></a>奇偶校验码</h3><p>具有检错能力的代码</p>
<p>奇校验：原代码的基础上加上一个码位使得代码中含有1的个数为奇数。</p>
<p>偶校验：原代码的基础上加上一个码位使得代码中含有1的个数为偶数。</p>
<p>通过检查代码中含有的1的奇偶性来判断代码的合法性。</p>
<h3 id="字符数字码"><a href="#字符数字码" class="headerlink" title="字符数字码"></a>字符数字码</h3><p>ASCII码等</p>
<h2 id="算术运算"><a href="#算术运算" class="headerlink" title="算术运算"></a>算术运算</h2><h3 id="有符号数的表示方法"><a href="#有符号数的表示方法" class="headerlink" title="有符号数的表示方法"></a>有符号数的表示方法</h3><p>原码，反码，补码。</p>
<p>一个正数和比他小的负数相加，多出符号位的进位忽略。</p>
<p>两个负数相加，多出符号位的进位忽略。</p>
<h2 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h2><p>研究数字电路的基础是逻辑代数，也称布尔代数。</p>
<h3 id="基本逻辑运算"><a href="#基本逻辑运算" class="headerlink" title="基本逻辑运算"></a>基本逻辑运算</h3><p>逻辑代数中只有三种基本逻辑运算，即“与或非”。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224123046.png" alt="image-20211224123044422" style="zoom: 50%;" /><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224123113.png" alt="image-20211224123111238" style="zoom: 50%;" /><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224123132.png" alt="image-20211224123130209" style="zoom: 50%;" /></p>
<p>与门和或门可以有多个输入端。</p>
<h3 id="复合逻辑运算"><a href="#复合逻辑运算" class="headerlink" title="复合逻辑运算"></a>复合逻辑运算</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224123256.png" alt="image-20211224123244118" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224123253.png" alt="image-20211224123251089" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224123350.png" alt="image-20211224123349224" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224123358.png" alt="image-20211224123356545" style="zoom:50%;" /></p>
<p>同或和异或互为反函数。</p>
<h3 id="正逻辑和负逻辑"><a href="#正逻辑和负逻辑" class="headerlink" title="正逻辑和负逻辑"></a>正逻辑和负逻辑</h3><p>正逻辑：高电平有效。</p>
<p>负逻辑：低电平有效。</p>
<h2 id="逻辑代数的基本定律和规则"><a href="#逻辑代数的基本定律和规则" class="headerlink" title="逻辑代数的基本定律和规则"></a>逻辑代数的基本定律和规则</h2><h3 id="逻辑函数的相等"><a href="#逻辑函数的相等" class="headerlink" title="逻辑函数的相等"></a>逻辑函数的相等</h3><p>如果两个函数的真值表相等，则这两个函数一定相等。</p>
<h3 id="基本定律"><a href="#基本定律" class="headerlink" title="基本定律"></a>基本定律</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224123744.png" alt="image-20211224123742947"></p>
<h3 id="逻辑代数的三条规则"><a href="#逻辑代数的三条规则" class="headerlink" title="逻辑代数的三条规则"></a>逻辑代数的三条规则</h3><ol>
<li><p>代入规则。将一个等式中的某一变量使用一个逻辑函数式F代替，则等式仍然成立。</p>
<p>由1可证明反演律对n个变量仍然适用。</p>
</li>
<li><p>反演规则。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224124226.png" alt="image-20211224124225032">注意：1.要保持原式的优先顺序。2.原式中不属于单变量上的非号不变。</p>
</li>
<li><p>对偶规则。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224124544.png" alt="image-20211224124539819"></p>
<p>注意：1.要保持原式的优先顺序。2.原式中的长短非号不变。3.单变量的对偶式为自己</p>
<p>对偶规则：若有两个逻辑表达式F和G相等，则各自的对偶式F’和G’也相等。</p>
</li>
</ol>
<h3 id="逻辑代数的常用公式"><a href="#逻辑代数的常用公式" class="headerlink" title="逻辑代数的常用公式"></a>逻辑代数的常用公式</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224125131.png" alt="image-20211224125048354" style="zoom:67%;" /><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224125135.png" alt="image-20211224125051852" style="zoom:67%;" /></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224125106.png" alt="image-20211224125057158" style="zoom:67%;" /><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224125156.png" alt="image-20211224125100070" style="zoom:67%;" /></p>
<p>同或和异或：</p>
<p>偶数个变量：同或和异或互为反函数。</p>
<p>奇数个变量：同或和异或相等。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224125611.png" alt="image-20211224125609539"></p>
<p>同或功能常常使用异或门来实现。</p>
<h2 id="逻辑函数的标准形式"><a href="#逻辑函数的标准形式" class="headerlink" title="逻辑函数的标准形式"></a>逻辑函数的标准形式</h2><h3 id="最小项和最大项"><a href="#最小项和最大项" class="headerlink" title="最小项和最大项"></a>最小项和最大项</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224130036.png" alt="image-20211224130035350"></p>
<p>2）最小项编号：使该最小项的值为1所对应的等效十进制数。</p>
<p>3）最小项的性质：</p>
<ol>
<li>变量任取一组值，仅有一个最小项为1，其他最小项为0； </li>
<li>n变量的全体最小项之和为1</li>
<li>不同的最小项相与，结果为0</li>
<li>两最小项相邻，相邻最小项相“或”，可以合并成一 项，并可以消去一个变量因子。</li>
<li>已知F的最小项式，则F反的最小项式为F最小项的补集。F对偶式的最小项是和F反中和2的n次方减1互补的那一项的值。</li>
<li>已知F的最小项式，则F的最大项的值为F最小项的补集。</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224132111.png" alt="image-20211224132109391"></p>
<p>2）最大项编号：使该最小项的值为0所对应的等效十进制数。</p>
<p>3）最大项的性质：</p>
<ol>
<li>变量任取一组值，仅有一个最大项为0，其它最大项为1</li>
<li>n变量的全体最大项之积为0</li>
<li>不同的最大项相或，结果为1</li>
<li>两相邻的最大项相“与”，可以合并成一项，并可以消去一个变量因子</li>
</ol>
<p>编号下标相同的最小项和最大项互为反函数。</p>
<h3 id="标准与或式和标准或与式"><a href="#标准与或式和标准或与式" class="headerlink" title="标准与或式和标准或与式"></a>标准与或式和标准或与式</h3><p>任一逻辑函数都可以表达为最小项之和的形式,而且是唯一的</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224132806.png" alt="image-20211224132805948"></p>
<h3 id="逻辑函数式化简为其它形式"><a href="#逻辑函数式化简为其它形式" class="headerlink" title="逻辑函数式化简为其它形式"></a>逻辑函数式化简为其它形式</h3><p>可能会用来解决用特定的门电路来绘制电路图的问题。</p>
<p>比如与非门。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104202149.png" alt="image-20220104202148503"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104202200.png" alt="image-20220104202200013"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104202210.png" alt="image-20220104202209605"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220104202226.png" alt="image-20220104202225439"></p>
<h2 id="逻辑函数式与真值表"><a href="#逻辑函数式与真值表" class="headerlink" title="逻辑函数式与真值表"></a>逻辑函数式与真值表</h2><p>化为最小项之和的形式，最小项对应的为1。</p>
<h2 id="逻辑函数的化简"><a href="#逻辑函数的化简" class="headerlink" title="逻辑函数的化简"></a>逻辑函数的化简</h2><h3 id="卡诺图化简法"><a href="#卡诺图化简法" class="headerlink" title="卡诺图化简法"></a>卡诺图化简法</h3><p>相邻的2的n次方的项进行合并，从相邻数最少的那个开始。每一次合并可以消去n个变量。</p>
<p>圈和圈可以重叠。</p>
<h3 id="用卡诺图求反函数的最简与或式"><a href="#用卡诺图求反函数的最简与或式" class="headerlink" title="用卡诺图求反函数的最简与或式"></a>用卡诺图求反函数的最简与或式</h3><p>合并卡诺图中的0方格。</p>
<p>可以用来求最简与或非式。</p>
<h3 id="不完全确定的逻辑函数及其化简"><a href="#不完全确定的逻辑函数及其化简" class="headerlink" title="不完全确定的逻辑函数及其化简"></a>不完全确定的逻辑函数及其化简</h3><p>无关项看为1，然后进行化简，但是在最后写的时候记得写无关项恒等的条件。</p>
<h1 id="第二章-逻辑门电路"><a href="#第二章-逻辑门电路" class="headerlink" title="第二章 逻辑门电路"></a>第二章 逻辑门电路</h1><h2 id="晶体管的开关特性"><a href="#晶体管的开关特性" class="headerlink" title="晶体管的开关特性"></a>晶体管的开关特性</h2><p>在数字电路中,常将半导体二极管,三极管和场效应管作为开关元件使用。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224152311.png" alt="image-20211224152309791"></p>
<h3 id="半导体二极管的开关特性"><a href="#半导体二极管的开关特性" class="headerlink" title="半导体二极管的开关特性"></a>半导体二极管的开关特性</h3><p>硅二极管的导通条件及导通时的特点：</p>
<p>大于0.7V导通，小于0.5V截止。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224153336.png" alt="image-20211224153335271"><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224152810.png" alt="image-20211224152809302" style="zoom: 67%;" /></p>
<p>硅二极管的开启和关断时间都很小。</p>
<h3 id="半导体三极管的开关特性"><a href="#半导体三极管的开关特性" class="headerlink" title="半导体三极管的开关特性"></a>半导体三极管的开关特性</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224153441.png" alt="image-20211224153440538" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224153741.png" alt="image-20211224153739327"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224153758.png" alt="image-20211224153757062"></p>
<p>开关时间和导通的深度成正比。</p>
<h2 id="CMOS门电路"><a href="#CMOS门电路" class="headerlink" title="CMOS门电路"></a>CMOS门电路</h2><p>CMOS反相器：静态功率极小。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224154202.png" alt="image-20211224154134084" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224154344.png" alt="image-20211224154143838" style="zoom: 67%;" /></p>
<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224154354.png" alt="image-20211224154157789" style="zoom: 67%;" />

<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224154403.png" alt="image-20211224154228489" style="zoom: 67%;" />

<p>本质上就是一个非门。</p>
<h1 id="第三章-组合逻辑电路"><a href="#第三章-组合逻辑电路" class="headerlink" title="第三章 组合逻辑电路"></a>第三章 组合逻辑电路</h1><p>组合逻辑电路：电路在任一时刻的输出状态仅由该时刻的输入信号决定,与电路在此信号输入之前的状态无关</p>
<h2 id="组合逻辑电路的分析"><a href="#组合逻辑电路的分析" class="headerlink" title="组合逻辑电路的分析"></a>组合逻辑电路的分析</h2><h3 id="分析方法"><a href="#分析方法" class="headerlink" title="分析方法"></a>分析方法</h3><p><strong>分析步骤：</strong></p>
<ol>
<li>通过电路图写出逻辑函数表达式</li>
<li>通过逻辑函数表达式列出真值表。</li>
<li>通过真值表或者表达式分析电路的功能。</li>
</ol>
<h2 id="组合逻辑电路的设计"><a href="#组合逻辑电路的设计" class="headerlink" title="组合逻辑电路的设计"></a>组合逻辑电路的设计</h2><h3 id="设计方法"><a href="#设计方法" class="headerlink" title="设计方法"></a>设计方法</h3><p><strong>设计步骤：</strong></p>
<ol>
<li>由实际逻辑问题列出真值表</li>
<li>由真值表写出逻辑表达式</li>
<li>化简，变换输出表达式。</li>
<li>画出逻辑图。</li>
</ol>
<h2 id="组合逻辑电路中的冒险"><a href="#组合逻辑电路中的冒险" class="headerlink" title="组合逻辑电路中的冒险"></a>组合逻辑电路中的冒险</h2><h3 id="产生冒险的原因"><a href="#产生冒险的原因" class="headerlink" title="产生冒险的原因"></a>产生冒险的原因</h3><p>由于门电路延迟时间的关系，可能会使逻辑电路产生错误输出。通常把这种现象称为竞争冒险。</p>
<p>电路存在由非门产生的<strong>互补</strong>信号，且互补信号的状态发生变化时有可能出现冒险现象。</p>
<h3 id="消去冒险的方法"><a href="#消去冒险的方法" class="headerlink" title="消去冒险的方法"></a>消去冒险的方法</h3><ol>
<li>发现并消除互补变量</li>
<li>增加乘积项</li>
</ol>
<h1 id="第四章-常用组合逻辑功能器件"><a href="#第四章-常用组合逻辑功能器件" class="headerlink" title="第四章 常用组合逻辑功能器件"></a>第四章 常用组合逻辑功能器件</h1><p>中规模集成电路分别具有特定的逻辑功能,称为功能模块。</p>
<h2 id="自顶向下的模块化设计方法"><a href="#自顶向下的模块化设计方法" class="headerlink" title="自顶向下的模块化设计方法"></a>自顶向下的模块化设计方法</h2><p>分层设计树</p>
<p>分层方框图<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224154858.png" alt="image-20211224154857107"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224154922.png" alt="image-20211224154921407"></p>
<h2 id="编码器"><a href="#编码器" class="headerlink" title="编码器"></a>编码器</h2><p>将信息(如数和字符等)转换成符合一定规则的二进制代码</p>
<h3 id="二进制编码器"><a href="#二进制编码器" class="headerlink" title="二进制编码器"></a>二进制编码器</h3><p>用n位二进制代码对N=2的n次方个特定信息进行编码的逻辑电路。</p>
<p>4线 — 2线编码器（将四个信息编码为一个2位二进制数）（4线中只允许有一个输入有效）</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224160239.png" alt="image-20211224160238197"></p>
<h3 id="带输出使能端的优先编码器"><a href="#带输出使能端的优先编码器" class="headerlink" title="带输出使能端的优先编码器"></a>带输出使能端的优先编码器</h3><p>输出使能端: 用于判别电路是否有信号输入（是一个输出信号，当没有任何信号输入时输出1，否则输出0）</p>
<p>优先: 对输入信号按轻重缓急排序,当有<strong>多个信号同时输入时</strong>,只对<strong>优先权高</strong>的一个信号进行编码.</p>
<p>该编码器所对应的真值表和逻辑电路图：<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224160538.png" alt="image-20211224160457427"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211224160641.png" alt="image-20211224160607206"></p>
<h3 id="二-—-十进制编码器"><a href="#二-—-十进制编码器" class="headerlink" title="二 — 十进制编码器"></a>二 — 十进制编码器</h3><p>输入: I0 ,I1,I2 … …I9,表示十个要求编码的信号.<br>输出: BCD码.</p>
<p>电路有十根输入线,四根输出线,常称为<strong>10线—4线编码器</strong></p>
<h2 id="通用编码器集成电路"><a href="#通用编码器集成电路" class="headerlink" title="通用编码器集成电路"></a>通用编码器集成电路</h2><h3 id="8线—3线优先编码器74148"><a href="#8线—3线优先编码器74148" class="headerlink" title="8线—3线优先编码器74148"></a>8线—3线优先编码器74148</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225132713.png" alt="image-20211225132711770"></p>
<p>1）74148为8线—3线优先编码器，HPRI是最高位优先编码器的说明。<br>2）编码器输入为低电平有效，输出为3位二进制反码。<br>3）EI非表示输入使能端，当EI非为0时电路正常工作，反之则电路禁止工作。（相当于编码器的开关（当输入0时编码器工作））（当电路禁止工作时，输出为111）<br>4）EO非表示选通输出端，当EO非为0时表示电路在工作状态但是没有输入。（用于区分开电路禁止工作时无输入的情况（等于0的时候））</p>
<p>5）GS非表示扩展输出端，当GS非为0时表示电路在工作状态并且至少存在一个输入。（用于标识电路处于工作状态并且有输入的情况）</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225133752.png" alt="image-20211225133751203"></p>
<p><strong>使用两块74148来构成一个16线 — 8线编码器：</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225134545.png" alt="image-20211225134544258"></p>
<p>当II编码器工作时，EI非输入使能端为0将II编码器打开，此时如果存在输入，则EO非为1，同时将EO非接入下一片I编码器的输入使能端。将I编码器关闭。I编码器输出全为1。</p>
<p>当II编码器工作时，如果有输入时，GS非的输出都为0。将GS非输出的0作为编码后的最高位，即0111中的0（低电平有效）。此时按照8线—3线编码器中将II编码器中的输入编码成为一个3位的二进制编码，和I编码器的111相与之后的结果加上最高位的0即为最终的编码。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225134607.png" alt="image-20211225134606848"></p>
<p>当I编码器工作时，II编码器的EI非端输入还为0，但是此时的II编码器的输入全为1，即无输入。此时II编码器的EO非输出为0，表示II编码器正在工作但是没有输入。此时输出的EO非输入到I编码器中的EI非中，将I编码器开启进行编码，此时的II编码器的所有输出都为111（低电平有效）。并且II编码器的GS非端的输出为1，即最高位此时为1（低电平有效）。I编码器将输入编码为一个三位二进制数后和II编码器中的111相与，即为最后编码的结果。</p>
<h3 id="10线—4线优先编码器74147"><a href="#10线—4线优先编码器74147" class="headerlink" title="10线—4线优先编码器74147"></a>10线—4线优先编码器74147</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225140309.png" alt="image-20211225140307467"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225140556.png" alt="image-20211225140555413"></p>
<h2 id="译码器-数据分配器"><a href="#译码器-数据分配器" class="headerlink" title="译码器/数据分配器"></a>译码器/数据分配器</h2><p>译码是编码的逆过程，作用是将一组码转换为确定信息。</p>
<h3 id="二进制译码器"><a href="#二进制译码器" class="headerlink" title="二进制译码器"></a>二进制译码器</h3><p>输入：二进制代码，有n个；<br>输出：2n 个特定信息。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225140847.png" alt="image-20211225140845555"></p>
<p>LSB：最低有效位</p>
<p>MSB：最高有效位</p>
<p>高电平输出有效的二进制译码器的输出逻辑表达式为Yi = mi（mi为输入变量所对应的最小项）</p>
<p>低电平输出有效的二进制译码器的输出逻辑表达式为Yi非 = mi非（mi为输入变量所对应的最小项）</p>
<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225141307.png"/>

<h3 id="译码器的使能控制端"><a href="#译码器的使能控制端" class="headerlink" title="译码器的使能控制端"></a>译码器的使能控制端</h3><p>1）利用使能输入控制端，既能使电路正常工作，也能使电路处于禁止工作状态；<br>2）利用使能输入控制端，能实现译码器容量扩展。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225141651.png" alt="image-20211225141650179"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225142606.png" alt="image-20211225142456970"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225142621.png" alt="image-20211225142553584"></p>
<h2 id="通用译码器集成电路"><a href="#通用译码器集成电路" class="headerlink" title="通用译码器集成电路"></a>通用译码器集成电路</h2><h3 id="带使能端3线—8线译码器-74138"><a href="#带使能端3线—8线译码器-74138" class="headerlink" title="带使能端3线—8线译码器 74138"></a>带使能端3线—8线译码器 74138</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225142917.png" alt="image-20211225142916960"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225143036.png" alt="image-20211225143035214"></p>
<p>1）电路输出低电平有效<br>2）G1，G2A非，G2B非的值分别为100，此时电路才进行工作，否则，电路禁止工作。电路输出均为1。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225143627.png" alt="image-20211225143626616"></p>
<h3 id="数据分配器"><a href="#数据分配器" class="headerlink" title="数据分配器"></a>数据分配器</h3><p>数据分配是将一个数据源输入的数据根据需要送到不同的输出端上去，实现数据分配功能的逻辑电路称为数据分配器。分配器又叫多路复用器。</p>
<p>数据分配器一般用带使能控制端的二进制译码器实现。</p>
<h3 id="用74138作为数据分配器"><a href="#用74138作为数据分配器" class="headerlink" title="用74138作为数据分配器"></a>用74138作为数据分配器</h3><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225144007.png"/>

<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225144104.png" alt="image-20211225144019208"></p>
<p>此时D即为数据源，通过CBA的编码来将D的数据分配到0~7的某一个出口处。</p>
<h2 id="译码器应用举例"><a href="#译码器应用举例" class="headerlink" title="译码器应用举例"></a>译码器应用举例</h2><h3 id="用译码器实现组合逻辑函数"><a href="#用译码器实现组合逻辑函数" class="headerlink" title="用译码器实现组合逻辑函数"></a>用译码器实现组合逻辑函数</h3><p>原理: 二进制译码器能产生输入信号的全部最小项,而所有组合逻辑函数均可写成最小项之和的形式</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225145258.png" alt="image-20211225145257289"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225145414.png" alt="image-20211225145310158"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225145424.png" alt="image-20211225145323580"></p>
<h3 id="计算机输入-输出接口地址译码电路"><a href="#计算机输入-输出接口地址译码电路" class="headerlink" title="计算机输入/输出接口地址译码电路"></a>计算机输入/输出接口地址译码电路</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225145700.png" alt="image-20211225145657979"></p>
<h2 id="数据选择器"><a href="#数据选择器" class="headerlink" title="数据选择器"></a>数据选择器</h2><p>功能: 从<strong>多路输入数据</strong>中选择其中的<strong>一路</strong>送至输出端.<br>数据选择器简称<strong>MUX</strong>,数据选择器的数据输入端数称为<strong>通道数</strong></p>
<p>常用MUX数据选择器的编号有：74150（16个输入），74151（8个输入）</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225150213.png" alt="image-20211225150212658"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225151549.png" alt="image-20211225151548496"></p>
<h3 id="数据选择器应用实例"><a href="#数据选择器应用实例" class="headerlink" title="数据选择器应用实例"></a>数据选择器应用实例</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225154955.png" alt="image-20211225154954821"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225155010.png" alt="image-20211225155009400"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225155042.png" alt="image-20211225155026060"></p>
<p>1）用MUX实现逻辑函数时，MUX必须被选通，即ST非=0<br>2）变量和地址端之间的连接必须正确。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225155410.png" alt="image-20211225155409906"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225155709.png" alt="image-20211225155706928"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225155725.png" alt="image-20211225155724093"></p>
<h2 id="算数运算电路"><a href="#算数运算电路" class="headerlink" title="算数运算电路"></a>算数运算电路</h2><p>算术运算电路的核心为加法器.</p>
<h3 id="基本加法器"><a href="#基本加法器" class="headerlink" title="基本加法器"></a>基本加法器</h3><p>1）半加器(HA)：<br>仅考虑两个一位二进制数相加,而不考虑低位的进位,称为半加。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225160357.png" alt="image-20211225160356422"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225160428.png" alt="image-20211225160427384"></p>
<p>2）全加器：在多位数相加时,除考虑本位的两个加数外,还须考虑低 位向本位的进位<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225160553.png" alt="image-20211225160552401"></p>
<p>3） 串行进位加法器：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225161112.png" alt="image-20211225161111060"></p>
<h3 id="高速加法器"><a href="#高速加法器" class="headerlink" title="高速加法器"></a>高速加法器</h3><p>1）全并行加法器</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225161214.png" alt="image-20211225161213260"></p>
<p>只存在在理论中。</p>
<p>2）超前进位加法器<br>设计思想: 由两个加数,首先求得各位的进位,然后再经全加器算出结果</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225161657.png" alt="image-20211225161656601"></p>
<p>根据Gi 、Pi 来求进位信号C 的电路称为<strong>超前进位电路（CLA）</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225162031.png" alt="image-20211225162031089"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225162131.png" alt="image-20211225162130798"></p>
<p>超前进位加法器的缺点在于超前进位逻辑的产生，随着位数的增加，Ci会变得很复杂。</p>
<p>超前进位加法器的实现通常以4位为基本模块，以分层结构实现位数为4 的倍数的加法器。由C3完整表达式：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225162250.png" alt="image-20211225162249429"></p>
<h2 id="通用加法器集成电路"><a href="#通用加法器集成电路" class="headerlink" title="通用加法器集成电路"></a>通用加法器集成电路</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225163705.png" alt="image-20211225163703649"></p>
<p>例题：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225163725.png" alt="image-20211225163724036"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225163737.png" alt="image-20211225163736702"></p>
<h3 id="减法电路"><a href="#减法电路" class="headerlink" title="减法电路"></a>减法电路</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225164348.png" alt="image-20211225164347787"></p>
<p>借位信号实现减2的n次方 的功能: 当A+B反+1 的高位有进位时,<br>该进位信号和2的n次方 相减使最高位为0, 反之为1。</p>
<p><strong>借位信号作为运算结果的符号位。</strong></p>
<h2 id="数值比较器"><a href="#数值比较器" class="headerlink" title="数值比较器"></a>数值比较器</h2><p>数值比较器用来判断两个二进制数的大小或相等</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225165049.png" alt="image-20211225165048220"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225165147.png" alt="image-20211225165145193"></p>
<h1 id="第五章-时序逻辑电路"><a href="#第五章-时序逻辑电路" class="headerlink" title="第五章 时序逻辑电路"></a>第五章 时序逻辑电路</h1><ol>
<li>时序逻辑电路的特点:<br>电路在任何时候的输出<strong>稳定值</strong>,不仅与该时刻的输入信号有关,而且<strong>与该时刻以前的电路状态有关</strong>;电路结构具有<strong>反馈回路</strong>。</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225202556.png" alt="image-20211225202555517"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225202748.png" alt="image-20211225202747645"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225203015.png" alt="image-20211225203009133"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225203119.png" alt="image-20211225203115165"></p>
<h2 id="锁存器"><a href="#锁存器" class="headerlink" title="锁存器"></a>锁存器</h2><p>存储电路由存储器件组成,能存储一位二值信号的器件称为存储单元电路.存储单元电路大多是双稳态电路</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225203334.png" alt="image-20211225203334017"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225203503.png" alt="image-20211225203502387"></p>
<h2 id="普通锁存器"><a href="#普通锁存器" class="headerlink" title="普通锁存器"></a>普通锁存器</h2><h3 id="RS锁存器"><a href="#RS锁存器" class="headerlink" title="RS锁存器"></a>RS锁存器</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225203706.png" alt="image-20211225203704996"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225203801.png" alt="image-20211225203758772"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225203857.png" alt="image-20211225203856509"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225203905.png" alt="image-20211225203904785"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225204016.png" alt="image-20211225204015565"></p>
<h3 id="门控RS锁存器"><a href="#门控RS锁存器" class="headerlink" title="门控RS锁存器"></a>门控RS锁存器</h3><p>在RS锁存器的基础上, 加控制信号,使锁存器状态转换的时间,受控制信号的控制.</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225204732.png" alt="image-20211225204731288"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225212113.png" alt="image-20211225212112420"></p>
<h3 id="门控D锁存器"><a href="#门控D锁存器" class="headerlink" title="门控D锁存器"></a>门控D锁存器</h3><p>能将呈现在激励输入端的单路数据D存入交叉耦合结构的锁存器单元中.</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225205156.png" alt="image-20211225205155745"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225205238.png" alt="image-20211225205237972"></p>
<h2 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h2><p>利用一个称为“时钟”的特殊定时控制信号去限制存储单元状态的改变时间,具有这种特点的存储单元电路称为触发器。</p>
<h2 id="主从触发器"><a href="#主从触发器" class="headerlink" title="主从触发器"></a>主从触发器</h2><h3 id="主从RS触发器"><a href="#主从RS触发器" class="headerlink" title="主从RS触发器"></a>主从RS触发器</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225205428.png" alt="image-20211225205428148"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225205513.png" alt="image-20211225205512545"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225205546.png" alt="image-20211225205545732"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225205650.png" alt="image-20211225205649353"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225210032.png" alt="image-20211225210031373"></p>
<h3 id="主从D触发器"><a href="#主从D触发器" class="headerlink" title="主从D触发器"></a>主从D触发器</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225210137.png" alt="image-20211225210136340"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225210147.png" alt="image-20211225210146827"></p>
<h3 id="主从JK触发器"><a href="#主从JK触发器" class="headerlink" title="主从JK触发器"></a>主从JK触发器</h3><p>主从JK触发器其实就是将RS触发器中的RS = 0 的约束条件给解除。当R = S = 1时，主从JK触发器将状态值进行翻转。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225210334.png" alt="image-20211225210333880"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225211545.png" alt="image-20211225211544723"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225211707.png" alt="image-20211225211706479"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225212004.png" alt="image-20211225212002812"></p>
<h3 id="主从触发器的缺陷"><a href="#主从触发器的缺陷" class="headerlink" title="主从触发器的缺陷"></a>主从触发器的缺陷</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225212214.png" alt="image-20211225212213600"></p>
<h2 id="边沿触发器"><a href="#边沿触发器" class="headerlink" title="边沿触发器"></a>边沿触发器</h2><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225212259.png" alt="image-20211225212258620"></p>
<h2 id="同步时序电路"><a href="#同步时序电路" class="headerlink" title="同步时序电路"></a>同步时序电路</h2><p>由于在同步时序电路中，各触发器的动作变化是在CLK脉冲作用下同时发生的，因此，在同步电路的分析中,只要知道了在当前状态下各触发器的输入（即驱动信号）,就能根据触发器的特性方程,求得电路的下一个状态,最终找到电路的状态转换规律。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225212518.png" alt="image-20211225212517987"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225212641.png" alt="image-20211225212640852"><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225212655.png" alt="image-20211225212654631"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225212742.png" alt="image-20211225212741877"><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211225212757.png" alt="image-20211225212756171"></p>
<h1 id="第六章-常用时序逻辑功能器件"><a href="#第六章-常用时序逻辑功能器件" class="headerlink" title="第六章 常用时序逻辑功能器件"></a>第六章 常用时序逻辑功能器件</h1><p>第六章就一句话</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20220101101309.png" alt="image-20220101101307563"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-11-11T03:12:51.000Z" title="2021/11/11 上午11:12:51">2021-11-11</time>发表</span><span class="level-item"><time dateTime="2021-11-19T14:20:38.907Z" title="2021/11/19 下午10:20:38">2021-11-19</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span><span class="level-item">5 分钟读完 (大约707个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/59533">JAVA入门</a></h1><div class="content"><h1 id="《Java编程思想》笔记"><a href="#《Java编程思想》笔记" class="headerlink" title="《Java编程思想》笔记"></a>《Java编程思想》笔记</h1><blockquote>
<p>记录了在阅读《Java编程思想》中感到需要记录下的一些新的东西。</p>
</blockquote>
<h2 id="第一章-对象导论"><a href="#第一章-对象导论" class="headerlink" title="第一章 对象导论"></a>第一章 对象导论</h2><ul>
<li>面向对象语言的五个基本特性之一： java程序是对象的集合，他们通过<strong>发送消息</strong>来<strong>告知彼此</strong>所需要做的。</li>
<li>对象的简洁描述：对象具有<strong>状态，行为和标识</strong>。</li>
<li>在面对对象程序设计中实际上进行的是<strong>创建新的数据类型</strong>。- </li>
<li>不要把多有的功能都塞到一个类中。</li>
<li>java程序开发人员被分为类创造者，和客户端程序员。</li>
<li>类中被隐藏的部分通常代表对象内部<strong>脆弱的部分</strong>。</li>
<li>protected表示继承的类可以访问protected成员。</li>
<li>不要总想着用继承，这会导师制难以使用并过分复杂的设计，应该首先考虑<strong>组合</strong>。</li>
<li>当继承时，新的类型复制了基类的接口。</li>
<li>前期绑定：在编译器产生的函数调用会将这个调用解析到将要被执行的代码的绝对地址。</li>
<li>后期绑定：程序知道运行时才能够确定代码的地址。</li>
<li><strong>虚函数</strong>是后期绑定的体现。（Java中<strong>所有的函数</strong>都是虚函数）。</li>
<li>把导出类看做是它的基类的过程称为向上转型</li>
<li>单根继承结构：终极基类是Objective，单根继承结构使垃圾回收期的实现变得容易很多。</li>
<li>将对象的引用放入容器内中时，它会被被向上转型为基类型，因此它会<strong>丢失身份</strong>。</li>
<li>参数化类型（范型/范式）用来解决容器中保存特定类型的类的问题。</li>
<li>Java完全采用了动态内存分配方式。</li>
<li>Java的异常不会干扰正常的执行代码，异常提供了一种从错误状况进行可靠恢复的途径。</li>
<li>之前的并发编程是通过编写中断服务程序，主进程的挂起是通过硬件的中断来触发的，缺少可移植性。Java的并发编程是内置于语言中的，线程只是一种为单一处理器分配执行时间的手段，如果一个操作系统支持多处理器，那么每个任务都可以被指派给不同的处理器。如果只有一个处理器，那么程序在逻辑上被分为线程。</li>
<li>中间件：将负载分赛在服务器端的其他机器。（中间件也被用来提高可维护性）</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-11-07T14:27:40.000Z" title="2021/11/7 下午10:27:40">2021-11-07</time>发表</span><span class="level-item"><time dateTime="2021-11-07T15:10:42.333Z" title="2021/11/7 下午11:10:42">2021-11-07</time>更新</span><span class="level-item">4 分钟读完 (大约538个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/17211">2021ccpc省赛总结</a></h1><div class="content"><p>2021ccpc河南省省赛，算是大学第一场比较正规的acm比赛吧，最后过了4道题，有点危险的拿到了银。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20211107224612.png" alt="image-20211107224610033"></p>
<p>打完比赛之后和高中机房的邱宇同学沟通了一下，发现自己的成绩并不算很好，给高中丢人了。。</p>
<p>一些感受吧：</p>
<p>高中竞赛的失败导致对acm抱有复杂的感情，爱并且怕着。</p>
<p>从初中开始接触算法竞赛，到现在已经有六七个年头了。这些年里写了好多的代码。一些题已经做了两遍三遍，忘记了，再做，有一些题，看到就想吐。为了拾起来之前的东西，去做哪些已经做了太多次的题，我已经无法从那些做过的题中找到学习新东西的乐趣了，这让我有一些恶心。</p>
<p>但是我还是爱着acm的。</p>
<p>解一道没做过的题之后的快乐，那是一种高级的喜悦。每一次体会这种快乐，都不会让我感到厌烦。</p>
<p>这可能也是为什么喜欢做新题的原因吧。</p>
<p>在这场比赛中，有两道题是由我完成的。这两道题，都是提交一遍然后AC，我觉得这个过程，还是十分的令人激动，并且快乐的。</p>
<p>总结一下这场比赛：</p>
<p>团队的问题：</p>
<p>签到有点慢，<strong>开始之后要看榜</strong>，这场比赛3分钟左右才开始看榜，这时候就已经比其他人慢了。</p>
<p>写题没有什么比较大的问题。</p>
<p>到最后两道题有点乱，没有分配好要写哪道题。</p>
<p>大家的DP都比较薄弱。</p>
<p>以后比赛还是上午留着睡觉吧，不然大家的状态都不好，都感觉晕乎乎的。。。</p>
<p>自己的问题：</p>
<p>DP比较薄弱。</p>
<p>对自己的代码没有自信。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-08-31T11:27:39.000Z" title="2021/8/31 下午7:27:39">2021-08-31</time>发表</span><span class="level-item"><time dateTime="2021-09-14T08:54:20.853Z" title="2021/9/14 下午4:54:20">2021-09-14</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span><span class="level-item">15 分钟读完 (大约2199个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/25262">深度学习初探</a></h1><div class="content"><h2 id="二分分类"><a href="#二分分类" class="headerlink" title="二分分类"></a>二分分类</h2><h3 id="什么是Logistic-回归？"><a href="#什么是Logistic-回归？" class="headerlink" title="什么是Logistic 回归？"></a>什么是Logistic 回归？</h3><p>logistic 回归函数：来对一组输入做一个 0 ~ 1 的概率判断。</p>
<p>x为输入的特征向量，得到的回归函数值为 <strong>sigma(w^(T) * x + b)</strong> ，参数为w和b，是一个在0和1中间的一个概率。<strong>sigma(z)</strong> 是  <strong>1 / 1 + e ^ (- z)</strong> 。</p>
<p><strong>损失函数</strong>：lost(y^, y) = <strong>- ( y log y^ + (1 - y) log(1 - y^) )</strong> （其中y^为y的预测值）。越小越好。</p>
<p><strong>成本函数</strong>：J(w, b) = <strong>1 / m * Σ lost(y^, y) = -1 / m * Σ(y log y^ + (1 - y)log(1 - y^))</strong> 。为m组损失函数的平均值，越小越好。</p>
<p><strong>梯度下降法</strong>：<strong>w := w - αd(J(w, b)) / d(w) ，b := b - αd(J(w, b)) / d(b)</strong> 。α是学习率。</p>
<p>梯度就是函数对变量的偏导。</p>
<p>正向传播：用参数计算出函数的值</p>
<p>反向传播：利用函数来计算每一个参数的导数</p>
<p>对Logistic 回归的一组数据进行梯度下降法：</p>
<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20210901232913.png" style="zoom:150%;" />

<h3 id="Logistic-回归的Python实现"><a href="#Logistic-回归的Python实现" class="headerlink" title="Logistic 回归的Python实现"></a>Logistic 回归的Python实现</h3><p>对Logistic 回归的m组数据进行一次梯度下降法：</p>
<pre class="line-numbers language-python"><code class="language-python">J <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> dw1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> dw2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> db <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span> to m
    z<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> wx<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">+</span>b<span class="token punctuation">;</span>
    a<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> sigmoid<span class="token punctuation">(</span>z<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    J <span class="token operator">+=</span> <span class="token operator">-</span><span class="token punctuation">[</span>y<span class="token punctuation">(</span>i<span class="token punctuation">)</span>log<span class="token punctuation">(</span>a<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span>y<span class="token punctuation">(</span>i<span class="token punctuation">)</span>）log<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span>a<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dz<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> a<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">-</span>y<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    dw1 <span class="token operator">+=</span> x1<span class="token punctuation">(</span>i<span class="token punctuation">)</span>dz<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    dw2 <span class="token operator">+=</span> x2<span class="token punctuation">(</span>i<span class="token punctuation">)</span>dz<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    db <span class="token operator">+=</span> dz<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
J <span class="token operator">/=</span> m<span class="token punctuation">;</span>
dw1 <span class="token operator">/=</span> m<span class="token punctuation">;</span>
dw2 <span class="token operator">/=</span> m<span class="token punctuation">;</span>
db <span class="token operator">/=</span> m<span class="token punctuation">;</span>
w <span class="token operator">=</span> w <span class="token operator">-</span> alpha <span class="token operator">*</span> dw
b <span class="token operator">=</span> b <span class="token operator">-</span> alpha <span class="token operator">*</span> db
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="如何减少循环的次数？"><a href="#如何减少循环的次数？" class="headerlink" title="如何减少循环的次数？"></a>如何减少循环的次数？</h3><p>使用<strong>向量化</strong>来减少显式For循环。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np <span class="token comment" spellcheck="true">#导入numpy库</span>
a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#创建一个数据a</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token keyword">import</span> time <span class="token comment" spellcheck="true">#导入时间库</span>
a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#通过round随机得到两个一百万维度的数组</span>
tic <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#现在测量一下当前时间</span>
<span class="token comment" spellcheck="true">#向量化的版本</span>
c <span class="token operator">=</span> np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#对a，b进行矩阵乘法</span>
toc <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>“Vectorized version<span class="token punctuation">:</span>” <span class="token operator">+</span> str<span class="token punctuation">(</span><span class="token number">1000</span><span class="token operator">*</span><span class="token punctuation">(</span>toc<span class="token operator">-</span>tic<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>”ms”<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#打印一下向量化的版本的时间</span>
<span class="token comment" spellcheck="true">#继续增加非向量化的版本</span>
c <span class="token operator">=</span> <span class="token number">0</span>
tic <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    c <span class="token operator">+=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
toc <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>“For loop<span class="token punctuation">:</span>” <span class="token operator">+</span> str<span class="token punctuation">(</span><span class="token number">1000</span><span class="token operator">*</span><span class="token punctuation">(</span>toc<span class="token operator">-</span>tic<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> “ms”<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#打印for循环的版本的时间</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>通过使用<strong>numpy</strong>中的函数来进行向量运算从而减少显式For循环。</p>
<p>可以使用向量化完全消除显式的For循环：</p>
<pre class="line-numbers language-python"><code class="language-python">Z <span class="token operator">=</span> np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>w<span class="token punctuation">.</span>T<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token operator">+</span>b
A <span class="token operator">=</span> σ<span class="token punctuation">(</span>Z<span class="token punctuation">)</span>
dZ <span class="token operator">=</span> A − Y
dw <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> m ∗ X ∗ dZ<span class="token punctuation">.</span>T
db <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> m ∗ np<span class="token punctuation">.</span>sum<span class="token punctuation">(</span>dZ<span class="token punctuation">)</span>
w <span class="token operator">=</span> w − α ∗ dw
b <span class="token operator">=</span> b − α ∗ db
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>现在我们利用前五个公式完成了前向和后向传播，也实现了对所有训练样本进行预测和求导，再利用后两个公式，梯度下降更新参数。我们的目的是不使用for循环，所以我们就通过一次迭代实现一次梯度下降，但如果你希望多次迭代进行梯度下降，那么仍然需要for循环，放在最外层。不过我们还是觉得一次迭代就进行一次梯度下降，避免使用任何循环比较舒服一些。</p>
</blockquote>
<p><strong>学习进度</strong>：吴恩达深度学习课程第一课前两周课（24节）</p>
<h2 id="浅层神经网络"><a href="#浅层神经网络" class="headerlink" title="浅层神经网络"></a>浅层神经网络</h2><h3 id="什么是双层神经网络？"><a href="#什么是双层神经网络？" class="headerlink" title="什么是双层神经网络？"></a>什么是双层神经网络？</h3><p>神经网络的大致组成：<strong>输入层，隐藏层，输出层。</strong></p>
<p>logistic 回归只有输入层和输出层。</p>
<p>双层神经网络的两层是指隐藏层和输出层，输入层不算。（也可以叫单隐层神经网络）</p>
<img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20210902224803.png" alt="img"  />

<p>上图是一个双层神经网络的示意图。</p>
<p>对比一般的Logistic 回归，对于一组输入来说，双层神经网络有多个a在第一层的输出到第二层去。在输出层中，输入是隐藏层中运算得到的a值，输出是经过Logistic 回归得到的最终值。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20210902224933.png" alt="在这里插入图片描述"></p>
<p>上图是隐藏层中一个神经元的具体构造。</p>
<p>同时我们也希望可以将这个双层神经网络进行向量化从而来简化我们的运算。</p>
<h3 id="如何将双层神经网络进行向量化？"><a href="#如何将双层神经网络进行向量化？" class="headerlink" title="如何将双层神经网络进行向量化？"></a>如何将双层神经网络进行向量化？</h3><p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20210908094249.png" alt="img"></p>
<p>该图将一组数据进行了向量化，通过上图的运算，可以更快地得出一组数据经过一次双层神经网络处理的结果。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20210908100221.png" alt="img"></p>
<p>如图的操作可以将多组数据进行向量化运算，即，经过一次操作对多组输入进行一次双层神行网络处理。</p>
<h3 id="如何选择激活函数？"><a href="#如何选择激活函数？" class="headerlink" title="如何选择激活函数？"></a>如何选择激活函数？</h3><p>常见的激活分类有：<strong>σ函数，tanh函数，ReUL函数，Leaky Relu函数</strong>。</p>
<p>对于tanh函数，是由σ函数向下平移和伸缩后得到的。相比于σ函数，数据的平均值更接近0，这会使下一层学习简单一点。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20210908101454.png" alt="img"></p>
<p>选用适合的激活函数可以加快机器学习的速度，常用的<strong>Relu</strong>函数的优点如下：</p>
<blockquote>
<p>第一，在 z 的区间变动很大的情况下，激活函数的导数或者激活函数的斜率都会远大于0，在程序实现就是一个if-else语句，而sigmoid函数需要进行浮点四则运算，在实践中，使用ReLu激活函数神经网络通常会比使用sigmoid或者tanh激活函数学习的更快。</p>
<p>第二，sigmoid和tanh函数的导数在正负饱和区的梯度都会接近于0，这会造成梯度弥散，而Relu和Leaky ReLu函数大于0部分都为常数，不会产生梯度弥散现象。(同时应该注意到的是，Relu进入负半区的时候，梯度为0，神经元此时不会训练，产生所谓的稀疏性，而Leaky ReLu不会有这问题)</p>
<p> z 在ReLu的梯度一半都是0，但是，有足够的隐藏层使得z值大于0，所以对大多数的训练数据来说学习过程仍然可以很快。</p>
</blockquote>
<p>概括一下不同激活函数的过程和结论：</p>
<blockquote>
<p><strong>sigmoid激活函数</strong>：除了输出层是一个二分类问题基本不会用它。</p>
<p><strong>tanh激活函数</strong>：tanh是非常优秀的，几乎适合所有场合。</p>
<p><strong>ReLu激活函数</strong>：最常用的默认函数，，如果不确定用哪个激活函数，就使用ReLu或者Leaky ReLu。公式 a = max( 0.01 z , z ) <em>为什么常数是0.01？</em>当然，可以为学习算法选择不同的参数。（注意ReLu函数是非线性的）</p>
</blockquote>
<p><strong>注意：</strong>在选择激活函数的时候，要选择非线性函数，因为多层线性函数的组合得到的结果还是线性的，那么神经网络只是把输入线性组合再输出。只有在做机器学习中的回归问题的时候才可能会选择线性函数作为激活函数。</p>
<h3 id="激活函数的导数"><a href="#激活函数的导数" class="headerlink" title="激活函数的导数"></a>激活函数的导数</h3><p>对于常见的几种激活函数的导数：</p>
<blockquote>
<p><strong>sigmoid函数 **σ(x) = a 的导数为 **a (1 - a)</strong></p>
<p><strong>tanh函数</strong> tanh(x) = a 的导数为 <strong>1 - a^2</strong></p>
<p><strong>Relu函数</strong> max(0, x) = a 的导数在 x &lt; 0 的时候为0， 在 x &gt; 0 的时候为1，在 x = 0 的时候没有定义，一般手动定义为 0 或者 1 。</p>
<p><strong>Leaky Relu函数</strong> max(0,01x, x) = a 的导数在 x &lt; 0 的时候为 0,01 ， 在 x &gt; 0 的时候为1，在 x = 0 的时候没有定义，一般手动定义为 0 或者 1 。</p>
</blockquote>
<h3 id="双层神经网络的梯度下降法（反向传播的实现）"><a href="#双层神经网络的梯度下降法（反向传播的实现）" class="headerlink" title="双层神经网络的梯度下降法（反向传播的实现）"></a>双层神经网络的梯度下降法（反向传播的实现）</h3><p>由以上学习可知双层神经网络的正向传播就是按照所给的基本公式进行计算，而反向传播可以在每一轮中对模型中的参数进行调整。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dicemy/blog-img/20210908112412.png" alt="image-20210908112409534"></p>
<p>反向传播与普通<strong>Logistic</strong>回归不同的地方在于计算第一层的dz时的差别。</p>
<blockquote>
<p>这里np.sum是python的numpy命令，axis=1表示水平相加求和，keepdims是防止python输出那些古怪的秩数 ( n , )，加上这个确保矩阵 db[ 2 ] 这个向量输出的维度为 ( n , 1 ) 这样标准的形式。</p>
</blockquote>
<h3 id="随机初始化"><a href="#随机初始化" class="headerlink" title="随机初始化"></a>随机初始化</h3><p>为什么在<strong>Logistic</strong>回归中不能将W数组的初始化定为0？</p>
<p>因为这样的话在第一层中的神经元就会计算出相同的结果，这样</p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/page/0/">上一页</a></div><div class="pagination-next"><a href="/page/2/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li><li><a class="pagination-link" href="/page/4/">4</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/touxiang.jpg" alt="Dicemy"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Dicemy</p><p class="is-size-6 is-block">一只想要躺平的菜鸡</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>中国 · 开封</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">37</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">18</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Dicemy" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Dicemy"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="QQ" href="tencent://message/?uin=1583925267"><i class="fab fa-qq"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Bilibili" href="https://space.bilibili.com/16023197"><i class="fas fa-tv"></i></a></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/01/"><span class="level-start"><span class="level-item">一月 2022</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">十二月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/11/"><span class="level-start"><span class="level-item">十一月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">八月 2021</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">七月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">六月 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">五月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">四月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/03/"><span class="level-start"><span class="level-item">三月 2021</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">二月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">一月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">十二月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">十月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/DP/"><span class="tag">DP</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hyperledger/"><span class="tag">Hyperledger</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JAVA/"><span class="tag">JAVA</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/fabric/"><span class="tag">fabric</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B9%98%E6%B3%95%E9%80%86%E5%85%83/"><span class="tag">乘法逆元</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA/"><span class="tag">博弈论</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97/"><span class="tag">双端队列</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="tag">学习笔记</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%80%9D%E8%80%83%E9%A2%98/"><span class="tag">思考题</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%90%9C%E7%B4%A2/"><span class="tag">搜索</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="tag">数据库</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E8%AE%BA/"><span class="tag">数论</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB/"><span class="tag">文档阅读</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/"><span class="tag">方法总结</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/"><span class="tag">最小生成树</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/"><span class="tag">组合数学</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"><span class="tag">赛后总结</span><span class="tag">9</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E6%8A%80%E6%9C%AF/"><span class="level-start"><span class="level-item">技术</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%96%87%E5%8C%96%E8%AF%BE/"><span class="level-start"><span class="level-item">文化课</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%94%9F%E6%B4%BB/"><span class="level-start"><span class="level-item">生活</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%AB%9E%E8%B5%9B/"><span class="level-start"><span class="level-item">竞赛</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-08T10:08:35.000Z">2022-01-08</time></p><p class="title"><a href="/23955">fabric开发入门</a></p><p class="categories"><a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-07T09:39:21.000Z">2022-01-07</time></p><p class="title"><a href="/63228">树莓派入门</a></p><p class="categories"><a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-07T09:39:07.000Z">2022-01-07</time></p><p class="title"><a href="/21062">Python入门</a></p><p class="categories"><a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-07T09:38:50.000Z">2022-01-07</time></p><p class="title"><a href="/10811">git入门</a></p><p class="categories"><a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-04T08:01:41.000Z">2022-01-04</time></p><p class="title"><a href="/12732">离散数学复习</a></p><p class="categories"><a href="/categories/%E6%96%87%E5%8C%96%E8%AF%BE/">文化课</a></p></div></article></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">广告</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6426911790858772" data-ad-slot="1877755546" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/biaoti.png" alt="TobinMEng 的博客" height="28"></a><p class="is-size-7"><span>&copy; 2022 TobinMEng</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="知识共享" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="CC BY-NC 4.0" href="https://creativecommons.org/licenses/by-nc/4.0/deed.zh"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Dicemy"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.10.0/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>